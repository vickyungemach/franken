(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{1396:function(e,t,n){"use strict";n.r(t);var r=n(4),c=n.n(r),a=n(22),o=n.n(a),s=n(18),i=n(12),l=n(11),u=(n(60),n(9)),j=n(3);var d=function(e){var t=e.hideOnMobile;return Object(j.jsxs)("div",{className:"searchbar ".concat(t?"hide-mobile":""),children:[Object(j.jsx)("i",{className:"fas fa-search searchbar__icon"}),Object(j.jsx)("input",{className:"searchbar__input",type:"text",placeholder:"Search"}),Object(j.jsx)("i",{className:"fas fa-times searchbar__close"})]})},b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAHBUlEQVR4nO2cW2wbVR7Gv/+ZsRPatE1J3AJthQINbVpKESCKUBwMLYKCVn0AJEBIiKtWW3HZFYgX9mEfEZcKadmK8rDSIiEBDyAQagUVhJJSsVx2ubQljiEgqlxs51I5TZt45vx5KGGzri8z4+M5dnp+b/HM/zsn3zfnzPFcDBgMBoPBYDAYDAaDwWAwGAwGw9kA6e5Ao7J9YKApdzK2yD7HXeywEyWymy1bDPV2LJ/0o2PXqoMLgW0/jC+bdZ3NDGwGqIskVjNhNYBVUxIrqCkPVwIEAbBEfta9BcBeP22YAOaRSKXXSklbAdrKzFfNOG7H/EmCK8wXQtC03zbP6gASH7HtnJ/ZRkS3AbjRdXHh6S0cSE9IE0BlmEU8lY3DxZ0uZW8nULsqaceMgNIkDqdbnAjdTcnsYwA21GL5EXFmT/itWfABXHtk4kLLdh53GfcRY1kt28qTPea3ZsEGkOgfapdkP8HsPAZGcwhNZg+uj+X8Fi24ABKDE63ObP4pF/QIGIvDapeAn4LULagAugcyf5Czzm4CrQq9caLBIGULIoDu5OhFxOIlSNwcbAFZPQw+OwOIH8mcD8Z3AM7R2Q+SnAxSJ1R3JGxY8GZoNh8AhLQ/C1SnuiNhIwRdqrsPAHKxruVHgxQ2fADMXA8BfP4mkRuksOEDAFUxAhjInXIUdIIDTT9AowfALCDRFbQ8lZ7C179MIp2b8bL7PgCpoluIDgbtQ0MH0HM0czEIi4LUpkanMHz8FJiB5EjOSwjHLCGuR2EIjOnplvxHQfoA1HEA3cnMw4kj42WnF7bExiDac+b/ruMxhN7OtjNDIHzw5QUX+L4KOkfdBbB9YKAp3p/ZQ4yXpeW+uvEwR0vuzLzJlzgDAwXm/08KSA5PYeJEvqxEYQjM/I6vPhRQVwFcmxpZMSVbPwbwEAAwcPlyO/O3kgUEXyMglZ7CSBHz51jcbKGl2aqoMy+EZD7K7/npQyF1E0Cif6jdcu39ALbM/5xAT3b3p7tLlHleARVOO4W0NNu4dNVSRCxvlvR2th1rsq2rP7to5ajXPhSjLgJIDE60SkT2AkWnFItA/9oyMLZ0/odXfsERAJ1e9FWbP8f+i8897qugCNoD2HiYo3I2v5eBq8rs1hGR8oX5HyxZNLEOQOnzw2/UynxVaA+gzc7sYtA1lfYj4IF4cvS2ub8d2614Aq538wHNAcT7M3cy6E+eC1js3vLj6EoAEJLKnoAbwXxAYwA9qbE1AF7xWRaL5sXLAMBU+hpQo5gP6BwBkp8H0BKgckfP9+kHUGIF1EjmA5puyMT7s1uZ+Y6g9Uy0Czjzfm+jmQ/oGAHMBGBXlSpLUND3RjQf0BBATzKzvcR6PzCNaj6gIQAG/VmlXiObD4QcQM/RkU0AtqrSC9N8Ivb91JsXQg2AhbgLil4KCfnIH5anos+oECok5HFJO1SohD3tMGhn32WtE0rECggtgEQqvRbAhmp1wjcfb/Sta39LiVgRQgtAuuKmajU0nHDT0nIfUSVWjPCmIMIV1ZTrWO2wwIOfrj0vrUywCKEFwODNQWu1LDUJu/s6Y++qEyxOKAHcwWyBg83/Wo584PvplvwTygTLEEoAI0ezKxDg+U0v5m9arfxLlkOge6t50sEPoQRANrX6rfFqvi3U/gsE+usn69r/rVS0DKEE4BL5ejdLl/kA+lZe0vasatFyhBKABSytvNdpNJo/6br2PUEfsg1KKAEwy4iX/TSaDyLs/HTD8p+VC1cgnHMAc8U3h3SaD6Z/Hrgk9pp64cqEMwKIyl6A02s+vnIWn9ypXtgb2i+S6zSfgVHLEjsOrVlzUrm4R7QGoPXIB8YhcWtvZ9uxWoh7JZwpqMg9AK3mEyYk46a+rtiX6sX9oWUEaD7yR8h1rzu4PvZFLcT9EnoAms3vk4wrD3Sd920txIMQTgB0egrSus4H9kzn2m84uD42pFy8CkJ5MEuCxOBoTpf5/STEowc6295XLayC2o8AZhqbnHm6rPlNNTH/OIC/TOfaN9Wr+UCtRwAzxfuz/xizSj/7X4Mjf5iAPXIm8mKtbqSrpHYB/GY+CH8stYtC86dAtA9Svm4Nx97uvZ5UvH0dCrUJoPbmjwP4LwjfEPMHInriw96OjtJzXB2j/qfripg/47j/9/qnK3midUn0uUURK+tFUjAfZ8mTbFmTQtDQgbVtvyjvtybUBuDhyAfwH8eJbju0cdm40rYbFHUBGPMDoSYAY35gqg/AmF8V1QVgzK+a4MtQZtEzMPYKE+4/cxumQTgExsc8G/n7ocuW1f0XIl0EC+D0kf/SPPNPAviKiPskxH47mutr1HV52Pifgpgpnsw+D+Dq3w2PGMNDIzE42Fz2N3wMBoPBYDAYDAaDwWAwGAwGg8FgOINfAT55LcIX/+ZxAAAAAElFTkSuQmCC",p=function(e){var t=e.children,n=e.hideOnMobile,r=e.dropdown,a=e.className,o=e.distance,s=c.a.Children.toArray(t),i=s[0],l=s.filter((function(e,t){return 0!==t}));return Object(j.jsxs)("div",{className:"dropdown ".concat(a," ").concat(n?"hide-mobile":""),children:[i,Object(j.jsx)("ul",{className:"dropdown-menu ".concat(r?"show":""),style:{top:o},children:l})]})},O=function(e){return e.children},m=function(e){var t=e.children,n=e.onClick;return Object(j.jsx)("li",{children:Object(j.jsx)("button",{className:"dropdown-item",href:"#",onClick:n,children:t})})};p.defaultProps={distance:"100%"};var h=function(e){var t=e.authenticated,n=(e.username,e.logout),c=Object(r.useState)("register"),a=Object(u.a)(c,2),o=a[0],i=a[1],l=Object(r.useState)(!1),h=Object(u.a)(l,2),f=h[0],g=h[1];function x(){i(window.location.href)}Object(r.useEffect)((function(){return document.addEventListener("click",(function(e){e.target.classList.contains("fas")||g(!1)}))}),[]);var v=Object(j.jsx)(s.b,{to:"/",children:Object(j.jsxs)("div",{className:"header__logo",children:[Object(j.jsx)("img",{src:b,alt:"logo"}),Object(j.jsx)("h1",{children:"Minite"})]})}),k=Object(j.jsxs)("div",{className:"nav nav--login",children:[v,Object(j.jsx)(d,{hideOnMobile:!0}),Object(j.jsxs)(p,{dropdown:f,setDropdown:g,hideOnMobile:!0,children:[Object(j.jsx)(O,{children:Object(j.jsxs)("button",{className:"btn btn-primary btn-dropdown",onClick:function(){g(!f)},children:["Profile",Object(j.jsx)("i",{className:"fas fa-chevron-down"})]})}),Object(j.jsx)(m,{onClick:n,children:"Log out"})]})]}),w=Object(j.jsxs)("div",{className:"nav nav--logout",children:[v,o.includes("login")?Object(j.jsxs)(s.b,{to:"login",className:"nav__link",onClick:x,children:["Sign in ",Object(j.jsx)("i",{className:"fas fa-sign-in-alt",children:" "})]}):Object(j.jsxs)(s.b,{to:"register",className:"nav__link",onClick:x,children:["Sign up ",Object(j.jsx)("i",{className:"fas fa-user-plus",children:" "})]})]});return Object(j.jsx)("div",{className:"header",children:t?k:w})},f=n(8),g=n(10),x="REGISTER_SUCCESS",v="REGISTER_FAIL",k="LOGIN_SUCCESS",w="LOGIN_FAIL",A="LOGIN_CHECK",y="LOGOUT_USER",_="GET_USER",N="GET_ALL_USERS",E="SET_ERROR",I="CLEAR_ERROR",C="GET_IMAGES",S="CLEAR_IMAGES",B="GET_BOOKMARKS",G="SAVE_BOOKMARK",P="DELETE_BOOKMARK",M="UPDATE_BOOKMARK",L="SORT_BOOKMARKS",D="SET_ACTIVE_BOOKMARK",U="TOGGLE_SHOW_ALL_GROUPS",R="TOGGLE_SHOW_ALL_IMAGES",T="GET_GROUPS",F="SAVE_GROUP",H="DELETE_GROUP",K="SET_ACTIVE_GROUP",z="GET_ONE_GROUP",Q="CLEAR_GROUP",V=n(28),X=n.n(V),q={baseUrl:"159.89.136.6:5000/"},Z=function(){var e={baseURL:q.baseUrl,headers:{"Content-Type":"application/json"}},t=X.a.create(e);return t.interceptors.request.use((function(e){var t=localStorage.getItem("token");return e.headers["x-auth-token"]=t||"",e})),t}(),W=function(e){return function(){var t=Object(g.a)(Object(f.a)().mark((function t(n){var r;return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.get("/api/upload/image");case 3:return r=t.sent,t.next=6,X.a.put(r.data.url,e,{headers:{"Content-Type":"image/jpeg"}});case 6:return t.sent,t.next=9,Z.post("/api/image",{url:r.data.key});case 9:t.sent,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},Y=n(5),J=Object(l.b)(null,{uploadImage:W})((function(e){var t=e.uploadImage,n=window.location.pathname,c=Object(r.useState)(0),a=Object(u.a)(c,2),o=a[0],i=a[1];Object(r.useEffect)((function(){"/"===n?i(0):n.includes("groups")&&i(1)}));var l=function(e){return e===o?"sidebar__link sidebar__link--active":"sidebar__link"};return Object(j.jsxs)("ul",{className:"sidebar",children:[Object(j.jsx)(s.b,{to:"/",children:Object(j.jsxs)("li",{className:l(0),children:[0===o?Object(j.jsx)(Y.Home,{height:"17px"}):Object(j.jsx)(Y.HomeOutline,{height:"17px"}),Object(j.jsx)("p",{children:"Photos"})]})}),Object(j.jsx)(s.b,{to:"/groups",children:Object(j.jsxs)("li",{className:l(1),children:[1===o?Object(j.jsx)(Y.Grid,{height:"17px"}):Object(j.jsx)(Y.GridOutline,{height:"17px"}),Object(j.jsx)("p",{children:"Groups"})]})}),Object(j.jsxs)("li",{className:l(2),children:[2===o?Object(j.jsx)(Y.Pricetag,{height:"17px"}):Object(j.jsx)(Y.PricetagOutline,{height:"17px"}),Object(j.jsx)("p",{children:"Tags"})]}),Object(j.jsx)("li",{className:"sidebar__link",children:Object(j.jsxs)("div",{className:"sidebar__btn btn-round",onClick:function(){document.getElementById("real-file").click()},children:[Object(j.jsx)("input",{type:"file",name:"",id:"real-file",hidden:"hidden",onChange:function(e){t(e.target.files[0])}}),Object(j.jsx)(Y.Add,{height:"20px"}),Object(j.jsx)("p",{children:"Upload"})]})})]})})),$=function(){var e=[{icon:Object(j.jsx)(Y.Home,{height:"1.8rem"}),text:"Photos"},{icon:Object(j.jsx)(Y.Grid,{height:"1.8rem"}),text:"Groups"},{icon:Object(j.jsx)(Y.Pricetag,{height:"1.8rem"}),text:"Tag"},{icon:Object(j.jsx)(Y.Add,{height:"1.8rem"}),text:"Add"}],t=Object(r.useState)(0),n=Object(u.a)(t,2),c=n[0],a=n[1];return Object(j.jsx)("nav",{className:"bottom-nav",children:e.map((function(e,t){return Object(j.jsxs)("button",{href:"",className:"bottom-nav-link ".concat(c===t?"bottom-nav-link--active":""),onClick:function(e){return function(e,t){e.preventDefault(),a(t)}(e,t)},children:[e.icon,Object(j.jsx)("span",{className:"bottom-nav-text",children:e.text})]},t)}))})};var ee=function(e){var t=e.children;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(J,{}),Object(j.jsx)("div",{className:"content",children:t})]}),Object(j.jsx)($,{})]})},te="gainsboro",ne="#05B3D7",re="#333B3F",ce="17px",ae={camera:Object(j.jsx)(Y.Camera,{height:ce}),airplane:Object(j.jsx)(Y.Airplane,{height:ce}),school:Object(j.jsx)(Y.School,{height:ce}),alarm:Object(j.jsx)(Y.Alarm,{height:ce}),americanfootball:Object(j.jsx)(Y.AmericanFootball,{height:ce}),bag:Object(j.jsx)(Y.Bag,{height:ce}),book:Object(j.jsx)(Y.Book,{height:ce}),beer:Object(j.jsx)(Y.Beer,{height:ce}),cafe:Object(j.jsx)(Y.Cafe,{height:ce}),cart:Object(j.jsx)(Y.Cart,{height:ce}),clipboard:Object(j.jsx)(Y.Clipboard,{height:ce}),cloud:Object(j.jsx)(Y.Cloud,{height:ce}),flask:Object(j.jsx)(Y.Flask,{height:ce}),heart:Object(j.jsx)(Y.Heart,{height:ce}),map:Object(j.jsx)(Y.Map,{height:ce}),paw:Object(j.jsx)(Y.Paw,{height:ce})},oe=[{name:"airplane",darkIcon:Object(j.jsx)(Y.Airplane,{color:re}),greyIcon:Object(j.jsx)(Y.Airplane,{color:te}),primaryIcon:Object(j.jsx)(Y.Airplane,{color:ne})},{name:"alarm",darkIcon:Object(j.jsx)(Y.Alarm,{color:re}),greyIcon:Object(j.jsx)(Y.Alarm,{color:te}),primaryIcon:Object(j.jsx)(Y.Alarm,{color:ne})},{name:"americanfootball",darkIcon:Object(j.jsx)(Y.AmericanFootball,{color:re}),greyIcon:Object(j.jsx)(Y.AmericanFootball,{color:te}),primaryIcon:Object(j.jsx)(Y.AmericanFootball,{color:ne})},{name:"bag",darkIcon:Object(j.jsx)(Y.Bag,{color:re}),greyIcon:Object(j.jsx)(Y.Bag,{color:te}),primaryIcon:Object(j.jsx)(Y.Bag,{color:ne})},{name:"book",darkIcon:Object(j.jsx)(Y.Book,{color:re}),greyIcon:Object(j.jsx)(Y.Book,{color:te}),primaryIcon:Object(j.jsx)(Y.Book,{color:ne})},{name:"beer",darkIcon:Object(j.jsx)(Y.Beer,{color:re}),greyIcon:Object(j.jsx)(Y.Beer,{color:te}),primaryIcon:Object(j.jsx)(Y.Beer,{color:ne})},{name:"cafe",darkIcon:Object(j.jsx)(Y.Cafe,{color:re}),greyIcon:Object(j.jsx)(Y.Cafe,{color:te}),primaryIcon:Object(j.jsx)(Y.Cafe,{color:ne})},{name:"camera",darkIcon:Object(j.jsx)(Y.Camera,{color:re}),greyIcon:Object(j.jsx)(Y.Camera,{color:te}),primaryIcon:Object(j.jsx)(Y.Camera,{color:ne})},{name:"cart",darkIcon:Object(j.jsx)(Y.Cart,{color:re}),greyIcon:Object(j.jsx)(Y.Cart,{color:te}),primaryIcon:Object(j.jsx)(Y.Cart,{color:ne})},{name:"clipboard",darkIcon:Object(j.jsx)(Y.Clipboard,{color:re}),greyIcon:Object(j.jsx)(Y.Clipboard,{color:te}),primaryIcon:Object(j.jsx)(Y.Clipboard,{color:ne})},{name:"cloud",darkIcon:Object(j.jsx)(Y.Cloud,{color:re}),greyIcon:Object(j.jsx)(Y.Cloud,{color:te}),primaryIcon:Object(j.jsx)(Y.Cloud,{color:ne})},{name:"flask",darkIcon:Object(j.jsx)(Y.Flask,{color:re}),greyIcon:Object(j.jsx)(Y.Flask,{color:te}),primaryIcon:Object(j.jsx)(Y.Flask,{color:ne})},{name:"heart",darkIcon:Object(j.jsx)(Y.Heart,{color:re}),greyIcon:Object(j.jsx)(Y.Heart,{color:te}),primaryIcon:Object(j.jsx)(Y.Heart,{color:ne})},{name:"map",darkIcon:Object(j.jsx)(Y.Map,{color:re}),greyIcon:Object(j.jsx)(Y.Map,{color:te}),primaryIcon:Object(j.jsx)(Y.Map,{color:ne})},{name:"paw",darkIcon:Object(j.jsx)(Y.Paw,{color:re}),greyIcon:Object(j.jsx)(Y.Paw,{color:te}),primaryIcon:Object(j.jsx)(Y.Paw,{color:ne})},{name:"school",darkIcon:Object(j.jsx)(Y.School,{color:re}),greyIcon:Object(j.jsx)(Y.School,{color:te}),primaryIcon:Object(j.jsx)(Y.School,{color:ne})}],se=function(e){var t=e.bookmarks,n=e.active,c=e.setActive,a=e.openManageBookmarks,o=Object(r.useState)(!1),s=Object(u.a)(o,2),i=s[0],l=s[1];Object(r.useEffect)((function(){return document.addEventListener("click",(function(e){"svg"!==e.target.tagName&&l(!1)}))}),[]);return Object(j.jsxs)("div",{className:"grid__header",children:[Object(j.jsx)("h1",{className:"grid__header-title hide-desktop",children:"All Photos"}),Object(j.jsxs)("div",{className:"grid__header-tabs",children:[t.map((function(e,t){return Object(j.jsxs)("div",{className:"".concat(t===n?"active":""),onClick:function(){return c(t)},children:[ae[e.icon],Object(j.jsx)("p",{children:e.name})]},t)})),Object(j.jsxs)(p,{distance:"50%",className:"grid__header-dots",dropdown:i,children:[Object(j.jsx)(O,{children:Object(j.jsx)("button",{onClick:function(e){l(!i)},children:Object(j.jsx)(Y.EllipsisHorizontal,{color:"#dbdbdb"})})}),Object(j.jsx)(m,{onClick:a,children:"Manage Bookmarks"})]})]})]})},ie=function(e){var t=e.openGridModal,n=e.image,r=e.i;return Object(j.jsx)("div",{onClick:function(){return t(n,r)},className:"grid__body-item",style:{backgroundImage:"url(".concat(n,")")}})},le=function(){return Object(j.jsx)("div",{className:"grid__empty",children:"There's no images here yet."})},ue=n(20),je=function(e){var t=e.images,n=e.currentImageIndex,c=e.closeGridModal,a=Object(r.useState)(!0),o=Object(u.a)(a,2),s=o[0],i=o[1];Object(r.useEffect)((function(){return document.addEventListener("keydown",(function(e){"Escape"===e.key&&c()}))}),[]);var l=t[t.length-1],d=t[0];t=[l].concat(Object(ue.a)(t),[d]);var b=Object(r.useState)(n+1),p=Object(u.a)(b,2),O=p[0],m=p[1],h=Object(r.useState)(""),f=Object(u.a)(h,2),g=f[0],x=f[1],v=function(){0===O&&(x("none"),m(t.length-2)),O===t.length-1&&(x("none"),m(1))};return Object(j.jsxs)("div",{className:"grid__modal",onClick:function(e){e.target.classList.contains("fas")||i(!s)},children:[Object(j.jsx)("div",{className:"grid__modal-carousel",children:t.map((function(e,t){return Object(j.jsx)("div",{className:"grid__modal-slide",style:{transform:"translateX(-".concat(100*O,"%)"),transition:g},onTransitionEnd:v,id:t,children:Object(j.jsx)("img",{src:"https://minite-bucket.s3.us-west-1.amazonaws.com/".concat(e.url),alt:"",style:(n=e.orientation,window.innerWidth<600||"landscape"===n?{width:"100%"}:{height:"100%"})})},t);var n}))}),Object(j.jsx)("button",{className:"grid__modal-btn grid__modal-btn--left ".concat(s?"":"hidden"),onClick:function(){O<=0||(x("transform .3s ease-in-out"),m(0===O?t.length-1:O-1))},children:Object(j.jsx)("i",{className:"fas fa-chevron-left"})}),Object(j.jsx)("button",{className:"grid__modal-btn grid__modal-btn--right ".concat(s?"":"hidden"),onClick:function(){O>=t.length-1||(x("transform .3s ease-in-out"),O===t.length-1?m(1):m(O+1))},children:Object(j.jsx)("i",{className:"fas fa-chevron-right"})}),Object(j.jsx)("button",{className:"grid__modal-btn grid__modal-btn--close ".concat(s?"":"hidden"),onClick:c,children:Object(j.jsx)("i",{className:"fas fa-times"})})]})},de=function(e){var t=e.images,n=Object(r.useState)(null),c=Object(u.a)(n,2),a=c[0],o=c[1],s=function(e,t){document.querySelector("body").classList.add("no-scroll"),o(t)},i=Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"grid__body",children:t.map((function(e,t){return Object(j.jsx)(ie,{openGridModal:s,image:"https://minite-bucket.s3.us-west-1.amazonaws.com/".concat(e.url),i:t},e._id)}))}),null!==a&&Object(j.jsx)(je,{images:t,closeGridModal:function(){document.querySelector("body").classList.remove("no-scroll"),o(null)},currentImageIndex:a})]});return 0===t.length?Object(j.jsx)(le,{}):i},be=function(){return Object(j.jsxs)("div",{className:"loading-dots",children:[Object(j.jsx)("div",{className:"bounce1"}),Object(j.jsx)("div",{className:"bounce2"}),Object(j.jsx)("div",{className:"bounce3"})]})},pe=function(e){var t=e.children,n=e.modal,r=e.setModal,c=e.title,a=e.width,o=e.reset;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"modal ".concat(n?"show":"fade"),onClick:function(e){var t=e.target.classList.contains("modal"),n=e.target.classList.contains("modal__header-close");(t||n)&&(r(!1),o&&o(),document.querySelector("body").classList.remove("no-scroll"))},children:Object(j.jsxs)("div",{style:{width:"".concat(a||"40%")},className:"modal__content",children:[Object(j.jsxs)("div",{className:"modal__header",children:[Object(j.jsx)("p",{className:"modal__header-title",children:c}),Object(j.jsx)("span",{className:"modal__header-close",children:"\xd7"})]}),Object(j.jsx)("div",{className:"modal__body",children:t})]})})})},Oe=n(6),me=n(29),he=function(e){var t=e.onClick,n=e.title,r=["modal-form__add-btn",e.className].join(" ").trim();return Object(j.jsxs)("button",{className:r,onClick:t,children:[Object(j.jsx)(Y.Add,{color:"grey"}),Object(j.jsxs)("p",{children:[n," "]})]})};he.defaultProps={className:""};var fe=he,ge=c.a.forwardRef((function(e,t){var n=e.onClick,r=e.selected,c=e.setSelected,a=e.dropdown,o=e.value,s=e.setValue,i=e.data,l=void 0===i?[]:i,u=e.placeholder,d=void 0===u?"":u,b=e.className,p=["input__container",void 0===b?"":b,a?"input__container--dropdown":""].join(" ").trim();return Object(j.jsxs)("div",{className:p,children:[Object(j.jsx)("input",{onClick:n,ref:t,value:o,onChange:function(e){return s(e.target.value)},type:"text",placeholder:d}),a&&Object(j.jsx)(xe,{data:l,selected:r,setSelected:c,searchPhrase:o,setSearchPhrase:s})]})})),xe=function(e){var t=e.searchPhrase,n=e.setSearchPhrase,c=e.selected,a=e.setSelected,o=(e.data,[{name:"anna"},{name:"tom"},{name:"lisa"}]),s=Object(r.useState)([]),i=Object(u.a)(s,2),l=i[0],d=i[1];Object(r.useEffect)((function(){b()}),[t,c]);var b=function(){var e=[],n=t.toLowerCase();o.forEach((function(t){var r;t.name.indexOf(n)>-1&&(null===(r=c.name)||void 0===r||!r.includes(t.name))&&e.push(t)})),d(e)};return Object(j.jsx)("div",{className:"input__dropdown ".concat(l.length&&"show"),children:Object(j.jsx)("ul",{className:"input__dropdown-list",children:l.map((function(e){return Object(j.jsx)("li",{onClick:function(){return function(e){a([].concat(Object(ue.a)(c),[e])),n(""),document.querySelector(".modal-form__input input").focus()}(e)},className:"input__dropdown-item",children:e.name},e)}))})})},ve=ge,ke=Object(l.b)((function(e){return{}}),{updateBookmark:function(e,t){return function(){var n=Object(g.a)(Object(f.a)().mark((function n(r){var c;return Object(f.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Z.put("/api/bookmark/".concat(e),t);case 3:c=n.sent,r({type:M,payload:c.data}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},saveBookmark:function(e){return function(){var t=Object(g.a)(Object(f.a)().mark((function t(n){var r;return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.post("/api/bookmark",e);case 3:r=t.sent,n({type:G,payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.closeForm,n=e.editData,c=e.showForm,a=e.updateBookmark,o=e.saveBookmark,s=Object(r.useState)(""),i=Object(u.a)(s,2),l=i[0],d=i[1],b=Object(r.useState)(""),p=Object(u.a)(b,2),O=p[0],m=p[1],h=Object(r.useRef)();Object(r.useEffect)((function(){(n||c)&&h.current.focus(),n&&function(e,t){d(e),m(t)}(n.name,n.icon)}),[n,c]);var f=function(){var e=Math.floor(Math.random()*ae.length-1);return ae[e]};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"modal-form",children:[Object(j.jsx)(Y.Close,{className:"modal-form__close",onClick:t}),Object(j.jsx)(ve,{className:"modal-form__input modal-form__input--bookmarks",ref:h,value:l,setValue:d,placeholder:"Bookmark name"}),Object(j.jsx)("button",{onClick:function(){if(!l)return console.log("Name is required");n?a(n._id,{name:l,icon:O}):function(){var e={name:l,icon:O||f()};o(e)}(),t()},className:"modal-form__button",children:"Save"})]}),Object(j.jsx)("div",{className:"modal-form__icons",children:oe.map((function(e,t){return Object(j.jsx)("div",{onClick:function(){return m(e.name)},children:O===e.name?e.primaryIcon:e.greyIcon},t)}))})]})})),we=function(e){var t=e.showEdits,n=e.onEdit,r=e.onDelete;return Object(j.jsxs)("div",{className:"bookmarks__item-edits ".concat(t?"show":""),children:[Object(j.jsx)(Y.CreateOutline,{onClick:n,color:"darkgrey"}),Object(j.jsx)(Y.TrashOutline,{onClick:r,color:"#ED4857"})]})},Ae=Object(l.b)((function(e){return{activeBookmark:e.bookmarks.activeBookmark}}),{deleteBookmark:function(e){return function(){var t=Object(g.a)(Object(f.a)().mark((function t(n){var r;return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.delete("/api/bookmark/".concat(e));case 3:r=t.sent,n({type:P,payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.activeBookmark,n=e.setActive,r=e.deleteBookmark,c=e.showEdits,a=e.openEdit,o=e.provided,s=e.item,i=e.index;return Object(j.jsxs)("div",Object(Oe.a)(Object(Oe.a)({},o.draggableProps),{},{ref:o.innerRef,className:"bookmarks__item",children:[Object(j.jsx)("div",Object(Oe.a)(Object(Oe.a)({},o.dragHandleProps),{},{children:Object(j.jsx)(Y.ReorderTwoOutline,{className:"bookmarks__reorder",color:"silver"})})),ae[s.icon],Object(j.jsxs)("p",{className:"bookmarks__item-name",children:[" ",s.name," "]}),Object(j.jsx)(we,{onDelete:function(){window.confirm("Delete this bookmark?")&&r(s._id),t===i&&n(i-1)},onEdit:function(){a(i)},showEdits:c})]}))})),ye=function(e){var t=e.setActive,n=e.activeBookmark,r=e.bookmarks,c=e.closeBookmarksModal,a=e.showForm,o=e.showEdits,s=e.setShowForm,i=e.setShowEdits,l=e.editBookmark,u=e.setEditBookmark,d=e.sortBookmarks,b=function(){s(!1),u(null)},p=function(e){u(e),O()},O=function(){return i(!1)};return Object(j.jsxs)("div",{className:"bookmarks",children:[Object(j.jsxs)("div",{className:"bookmarks__title",children:[Object(j.jsx)("h1",{children:"Manage Bookmarks"}),a||null!==l?null:o?Object(j.jsx)(Y.CloseOutline,{color:"darkgrey",onClick:O}):Object(j.jsx)(Y.CreateOutline,{color:"darkgrey",onClick:function(){return i(!0)}})]}),Object(j.jsx)(me.a,{onDragStart:O,onDragEnd:function(e){return function(e){var c,a=e.source.index,o=null===(c=e.destination)||void 0===c?void 0:c.index;o>=0&&r.splice(o,0,r.splice(a,1)[0]);var s=r.map((function(e,t){return Object(Oe.a)(Object(Oe.a)({},e),{},{sort:t})}));d(s),t(n)}(e)},children:Object(j.jsx)(me.c,{droppableId:"droppable-1",children:function(e,n){return Object(j.jsxs)("div",Object(Oe.a)(Object(Oe.a)({ref:e.innerRef},e.droppableProps),{},{children:[r.map((function(e,n){return Object(j.jsx)(me.b,{draggableId:"draggable-".concat(n),index:n,children:function(r,c){return l===n?Object(j.jsx)(ke,{editData:e,closeForm:b}):Object(j.jsx)(Ae,{showEdits:o,item:e,provided:r,openEdit:p,index:n,setActive:t})}},n)})),e.placeholder]}))}})}),null!==l?null:a?Object(j.jsx)(ke,{showForm:a,closeForm:b}):Object(j.jsx)(fe,{title:"Add bookmark",onClick:function(){if(r.length>=5)return alert("Cannot have more than 5 bookmarks");s(!0),O()}}),!a&&null===l&&Object(j.jsx)("div",{className:"bookmarks__btn regular-btn",onClick:c,children:Object(j.jsx)("p",{children:"Done"})})]})},_e=Object(l.b)((function(e){return{loadingImages:e.images.loading,images:e.images.images,loadingBookmarks:e.bookmarks.loading,bookmarks:e.bookmarks.bookmarks,activeBookmark:e.bookmarks.activeBookmark}}),{getImages:function(e){return function(){var t=Object(g.a)(Object(f.a)().mark((function t(n){var r;return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.get("/api/image/".concat(e));case 3:r=t.sent,n({type:C,payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getBookmarks:function(){return function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){var n;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.get("/api/bookmark");case 3:n=e.sent,t({type:B,payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},setActiveBookmark:function(e){return function(){var t=Object(g.a)(Object(f.a)().mark((function t(n){return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:D,payload:e})}catch(r){console.log(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},clearImages:function(){return function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:S})}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},sortBookmarks:function(e){return function(){var t=Object(g.a)(Object(f.a)().mark((function t(n){var r;return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.put("/api/bookmark/sort",e);case 3:r=t.sent,n({type:L,payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.getImages,n=e.clearImages,c=e.getBookmarks,a=e.images,o=e.bookmarks,s=e.loadingImages,i=e.loadingBookmarks,l=e.setActiveBookmark,d=e.activeBookmark,b=e.sortBookmarks,p=Object(r.useState)(!1),O=Object(u.a)(p,2),m=O[0],h=O[1],f=Object(r.useState)(!1),g=Object(u.a)(f,2),x=g[0],v=g[1],k=Object(r.useState)(!1),w=Object(u.a)(k,2),A=w[0],y=w[1],_=Object(r.useState)(null),N=Object(u.a)(_,2),E=N[0],I=N[1];Object(r.useEffect)((function(){c(),!i&&t(o[0]._id)}),[i]);var C=function(e){n(),l(e),t(o[e]._id)};return Object(j.jsxs)(ee,{children:[Object(j.jsx)(se,{openManageBookmarks:function(){return h(!0)},active:d,setActive:C,bookmarks:o}),s?Object(j.jsx)(be,{}):Object(j.jsx)(de,{images:a}),Object(j.jsx)(pe,{modal:m,setModal:h,reset:function(){v(!1),y(!1),I(null)},title:"Bookmarks",width:"30%",children:Object(j.jsx)(ye,{bookmarks:o,closeBookmarksModal:function(){return h(!1)},showForm:x,setShowForm:v,showEdits:A,setShowEdits:y,editBookmark:E,setEditBookmark:I,setActive:C,activeBookmark:d,sortBookmarks:b})})]})})),Ne=n(24),Ee=function(e){var t=e.children;return Object(j.jsx)("h1",{className:"form-heading",children:t})},Ie=Object(r.forwardRef)((function(e,t){return Object(j.jsxs)("div",{className:"input-container",children:[Object(j.jsx)("input",Object(Oe.a)(Object(Oe.a)({},e),{},{ref:t})),Object(j.jsx)("small",{className:"invalid",children:e.validation})]})})),Ce=function(e){var t=e.title;return Object(j.jsx)("button",{type:"submit",children:t})};Ie.defaultProps={type:"text",id:""};var Se=function(e){var t=e.onSubmit,n=e.children,r=e.id;return Object(j.jsx)("form",{onSubmit:t,id:r,children:n})},Be=function(e){return function(t){t({type:E,payload:e}),setTimeout((function(){t({type:I})}),3e3)}},Ge=function(){return function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){var n;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.get("/api/user");case 3:n=e.sent,t({type:_,payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()};var Pe=function(e){var t=e.message,n=e.type;return Object(j.jsx)("div",{className:"alert alert-".concat(n),children:Object(j.jsx)("p",{children:t})})};var Me=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.auth.user,error:e.alerts.error}}),{login:function(e,t){return function(){var n=Object(g.a)(Object(f.a)().mark((function n(r){var c,a,o;return Object(f.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{Accept:"application/json","Content-Type":"application/json"}},a=JSON.stringify({name:e,password:t}),n.prev=2,n.next=5,Z.post("/api/user/login",a,c);case 5:o=n.sent,r({type:k,payload:o.data}),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(2),r(Be(n.t0.response.data.msg)),r({type:w});case 13:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()},getUser:Ge,setError:Be})((function(e){var t=e.history,n=e.isAuthenticated,c=e.user,a=e.error,o=e.login,s=e.getUser,i=e.setError;Object(r.useEffect)((function(){"loggedOut"!==c&&s()}),[s,c,t]),Object(r.useEffect)((function(){n&&t.push("/")}),[n,t]);var l=Object(r.useState)({name:"",password:""}),d=Object(u.a)(l,2),p=d[0],O=d[1],m=p.name,h=p.password,x=function(e){O(Object(Oe.a)(Object(Oe.a)({},p),{},Object(Ne.a)({},e.target.name,e.target.value)))},v=function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==m&&""!==h){e.next=3;break}return e.abrupt("return",i("Please fill out all fields"));case 3:o(m,h);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"auth-card",children:[Object(j.jsx)("img",{className:"auth-icon",src:b,alt:"logo"}),Object(j.jsx)(Ee,{children:"Sign into your account"}),a&&Object(j.jsx)(Pe,{message:a,type:"danger"}),Object(j.jsxs)(Se,{onSubmit:v,children:[Object(j.jsx)(Ie,{placeholder:"Username",name:"name",id:"name",value:m,onChange:x}),Object(j.jsx)(Ie,{placeholder:"Password",name:"password",id:"password",value:h,onChange:x,type:"password"}),Object(j.jsx)(Ce,{title:"Log In"})]})]})}));var Le=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.alerts.error}}),{register:function(e,t){return function(){var n=Object(g.a)(Object(f.a)().mark((function n(r){var c,a;return Object(f.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=JSON.stringify({name:e,password:t}),n.next=4,Z.post("/api/user/register",c);case 4:a=n.sent,r({type:x,payload:a.data}),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),r(Be(n.t0.response.data.msg)),r({type:v});case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},getUser:Ge,setError:Be})((function(e){var t=e.history,n=e.register,c=e.getUser,a=e.setError,o=e.isAuthenticated,s=e.error;Object(r.useEffect)((function(){c()}),[c]),Object(r.useEffect)((function(){o&&t.push("/")}),[o,t]);var i=Object(r.useState)({name:"",password:"",password2:""}),l=Object(u.a)(i,2),d=l[0],p=l[1],O=d.name,m=d.password,h=d.password2,x=function(e){p(Object(Oe.a)(Object(Oe.a)({},d),{},Object(Ne.a)({},e.target.name,e.target.value)))},v=function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==O&&""!==m&&""!==h){e.next=3;break}return e.abrupt("return",a("Please fill out all fields"));case 3:if(m===h){e.next=5;break}return e.abrupt("return",a("Passwords don't match"));case 5:n(O,m),p({name:"",password:"",password2:""});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"auth-card",children:[Object(j.jsx)("img",{className:"auth-icon",src:b,alt:"logo"}),Object(j.jsx)(Ee,{children:"Create a new account"}),s&&Object(j.jsx)(Pe,{message:s,type:"danger"}),Object(j.jsxs)(Se,{onSubmit:v,children:[Object(j.jsx)(Ie,{name:"name",id:"name",placeholder:"Username",value:O,onChange:x}),Object(j.jsx)(Ie,{name:"password",id:"password",placeholder:"Password",value:m,onChange:x,type:"password"}),Object(j.jsx)(Ie,{name:"password2",id:"password2",placeholder:"Confirm Password",value:h,onChange:x,type:"password"}),Object(j.jsx)(Ce,{title:"Sign Up"})]})]})})),De=n(48),Ue=["component","auth"],Re=Object(l.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,n=e.auth,r=n.isAuthenticated,c=n.loading,a=n.loginCheck,o=Object(De.a)(e,Ue);return Object(j.jsx)(i.b,Object(Oe.a)(Object(Oe.a)({},o),{},{render:function(e){return r&&!c?Object(j.jsx)(t,Object(Oe.a)({},e)):r||a?!r&&a&&Object(j.jsx)(i.a,{to:"/login"}):null}}))})),Te=n(19),Fe=n(49),He=n(51),Ke={token:localStorage.getItem("token"),isAuthenticated:!1,loading:!0,loginCheck:!1,user:null,allUsers:[]};var ze={error:""};var Qe={loading:!0,images:[]};var Ve={loading:!0,bookmarks:[],activeBookmark:0};var Xe={groups:[],active:null,showAllGroups:!0,showAllImages:!0,loading:!0};var qe=Object(Te.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case k:case x:return localStorage.setItem("token",r.token),Object(Oe.a)(Object(Oe.a)({},e),{},{token:r.token,isAuthenticated:!0,loading:!1,user:r});case w:case v:case y:return localStorage.removeItem("token"),Object(Oe.a)(Object(Oe.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1,user:"loggedOut"});case A:return Object(Oe.a)(Object(Oe.a)({},e),{},{loginCheck:!0});case _:return Object(Oe.a)(Object(Oe.a)({},e),{},{isAuthenticated:!0,loading:!1,user:r});case N:return Object(Oe.a)(Object(Oe.a)({},e),{},{allUsers:r});default:return Object(Oe.a)({},e)}},alerts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case E:return Object(Oe.a)(Object(Oe.a)({},e),{},{error:r});case I:return Object(Oe.a)(Object(Oe.a)({},e),{},{error:""});default:return e}},images:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case C:return Object(Oe.a)(Object(Oe.a)({},e),{},{loading:!1,images:r});case S:return Object(Oe.a)(Object(Oe.a)({},e),{},{loading:!0,images:[]});default:return Object(Oe.a)({},e)}},bookmarks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case B:return Object(Oe.a)(Object(Oe.a)({},e),{},{loading:!1,bookmarks:r});case G:return Object(Oe.a)(Object(Oe.a)({},e),{},{bookmarks:[].concat(Object(ue.a)(e.bookmarks),[r]),loading:!1});case M:return Object(Oe.a)(Object(Oe.a)({},e),{},{bookmarks:e.bookmarks.map((function(e){return e._id===r._id?r:e}))});case P:return Object(Oe.a)(Object(Oe.a)({},e),{},{bookmarks:e.bookmarks.filter((function(e){return e._id!==r._id}))});case D:return Object(Oe.a)(Object(Oe.a)({},e),{},{activeBookmark:r});case L:return Object(Oe.a)(Object(Oe.a)({},e),{},{bookmarks:r,loading:!1});default:return Object(Oe.a)({},e)}},groups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;switch(r){case U:return Object(Oe.a)(Object(Oe.a)({},e),{},{showAllGroups:!e.showAllGroups});case R:return Object(Oe.a)(Object(Oe.a)({},e),{},{showAllImages:!e.showAllImages});case T:return Object(Oe.a)(Object(Oe.a)({},e),{},{groups:n,loading:!1});case F:return Object(Oe.a)(Object(Oe.a)({},e),{},{groups:[].concat(Object(ue.a)(e.groups),[n])});case H:return Object(Oe.a)(Object(Oe.a)({},e),{},{groups:e.groups.filter((function(e){return e._id!==n._id}))});case K:case z:return Object(Oe.a)(Object(Oe.a)({},e),{},{active:n});case Q:return Object(Oe.a)(Object(Oe.a)({},e),{},{loading:!0,active:null});default:return Object(Oe.a)({},e)}}}),Ze=n(50),We=n.n(Ze),Ye=[He.a,We.a],Je=Object(Te.createStore)(qe,{},Object(Fe.composeWithDevTools)(Te.applyMiddleware.apply(void 0,Ye))),$e=Object(l.b)(null,{toggleShowAll:function(e){return function(){var t=Object(g.a)(Object(f.a)().mark((function t(n){return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"group"===e?n({type:U}):"photo"===e&&n({type:R});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.showAll,n=e.toggleShowAll,r=e.resource,c=e.className,a=["group__toggle-btn",void 0===c?"":c].join(" ").trim(),o=r.split("")[0].toUpperCase()+r.slice(1)+"s",s=Object(j.jsxs)("button",{onClick:function(){return n(r)},className:a,children:[" ",Object(j.jsx)(Y.Person,{height:"17px",color:"#333"}),"My ",o]}),i=Object(j.jsxs)("button",{onClick:function(){return n(r)},className:a,children:[" ",Object(j.jsx)(Y.People,{height:"17px",color:"#333"}),"All ",o]});return t?i:s})),et=function(e){var t=e.openCreateGroup,n=e.showAllGroups;return Object(j.jsxs)("div",{className:"group__header",children:[Object(j.jsx)("h1",{className:"group__title",children:" Groups"}),Object(j.jsxs)("button",{onClick:t,className:"regular-btn flex",children:[" ",Object(j.jsx)(Y.Add,{height:"17px",color:"#fff"}),"Add Group"]}),Object(j.jsxs)("div",{className:"group__search",children:[Object(j.jsx)("input",{className:"group__search-input",type:"text",placeholder:"Search groups"}),Object(j.jsx)($e,{showAll:n,resource:"group"})]})]})},tt=function(e){var t=e.title,n=e.images,r=e.id,c=n.length;return Object(j.jsxs)(s.b,{to:"/groups/".concat(r),className:"group__list-item",children:[Object(j.jsx)("div",{className:"group__list-item--image"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{className:"group__list-item--title",children:t}),Object(j.jsx)("p",{className:"group__list-item--subtitle",children:1===c?"1 photo":"".concat(c," photos")})]})]})},nt=function(e){var t=e.groups;return Object(j.jsx)("div",{className:"group__list",children:t&&t.map((function(e){return Object(j.jsx)(tt,{title:e.title,images:e.images,id:e._id},e._id)}))})},rt=function(e){e.ref;var t=e.closeAddMemberForm,n=e.selected,c=e.setSelected,a=Object(r.useState)(""),o=Object(u.a)(a,2),s=o[0],i=o[1],l=Object(r.useRef)();return Object(r.useEffect)((function(){l.current.focus()}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"modal-form",children:[Object(j.jsx)(Y.Close,{className:"modal-form__close",onClick:t}),Object(j.jsx)(ve,{selected:n,setSelected:c,dropdown:s,className:"modal-form__input",ref:l,value:s,setValue:i})]})})},ct=function(e){var t=e.selected,n=e.setSelected;return Object(j.jsx)("div",{className:"group__create-members",children:Object(j.jsx)("ul",{children:t.map((function(e){return Object(j.jsxs)("li",{onClick:function(){return function(e){n(t.filter((function(t){return t!==e})))}(e)},children:[e.name," ",Object(j.jsx)(Y.Close,{color:"grey"})]},e)}))})})},at=function(e){var t=e.addMemberInput,n=e.setAddMemberInput,c=e.createGroup,a=e.getAllUsers,o=e.allUsers,s=e.saveGroup,i=e.closeModal,l=Object(r.useState)(""),d=Object(u.a)(l,2),b=d[0],p=d[1],O=Object(r.useState)([]),m=Object(u.a)(O,2),h=m[0],f=m[1];Object(r.useEffect)((function(){c&&(p(""),f([]),n(!1)),a()}),[c]);return Object(j.jsxs)("div",{className:"group__create",children:[Object(j.jsx)("div",{className:"group__create-image",children:"Add cover photo"}),Object(j.jsx)(ve,{data:o,onClick:function(){return n(!1)},value:b,setValue:p,placeholder:"Group name"}),t?Object(j.jsx)(rt,{selected:h,setSelected:f,closeAddMemberForm:function(){return n(!1)}}):Object(j.jsx)(fe,{title:"Add members",onClick:function(){return n(!0)}}),Object(j.jsx)(ct,{selected:h,setSelected:f}),Object(j.jsx)("div",{className:"group__create-submit regular-btn",onClick:function(){var e=h.map((function(e){return e._id}));s(b,e),p(""),f([]),i()},children:Object(j.jsx)("p",{children:"Save Group"})})]})},ot=n(52),st=Object(ot.a)((function(e){return e.groups.groups}),(function(e){return e.groups.showAllGroups}),(function(e){return e.auth.user._id}),(function(e,t,n){return t?e:e.filter((function(e){return!0===e.private}))})),it=Object(l.b)((function(e){return{groups:st(e),showAllGroups:e.groups.showAllGroups,allUsers:e.auth.allUsers}}),{getGroups:function(){return function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){var n;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.get("api/group");case 3:n=e.sent,t({type:T,payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},getAllUsers:function(){return function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){var n;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.get("/api/user/all");case 3:n=e.sent,t({type:N,payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},saveGroup:function(e,t){return function(){var n=Object(g.a)(Object(f.a)().mark((function n(r){var c,a;return Object(f.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Z.post("api/group",{title:e});case 3:return c=n.sent,n.next=6,Z.put("api/group/add/".concat(c.data._id),{members:t});case 6:a=n.sent,r({type:F,payload:a.data}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){e.closeCreateForm,e.openCreateForm;var t=e.getGroups,n=e.groups,c=e.showAllGroups,a=e.getAllUsers,o=e.allUsers,s=e.saveGroup,i=Object(r.useState)(!1),l=Object(u.a)(i,2),d=l[0],b=l[1],p=Object(r.useState)(!1),O=Object(u.a)(p,2),m=O[0],h=O[1];return Object(r.useEffect)((function(){t()}),[]),Object(j.jsxs)(ee,{children:[Object(j.jsxs)("div",{className:"group",children:[Object(j.jsx)(et,{openCreateGroup:function(){return b(!0)},showAllGroups:c}),Object(j.jsx)(nt,{groups:n})]}),Object(j.jsx)(pe,{modal:d,setModal:b,title:"Create Group",width:"30%",children:Object(j.jsx)(at,{closeModal:function(){return b(!1)},saveGroup:s,getAllUsers:a,allUsers:o,createGroup:d,addMemberInput:m,setAddMemberInput:h})})]})})),lt=function(e){var t=e.message,n=e.buttonLightTitle,r=(e.buttonLightOnClick,e.buttonDangerTitle),c=(e.buttonDangerOnClick,e.deleteGroup);return Object(j.jsxs)("div",{className:"leave-group",children:[Object(j.jsxs)("p",{className:"leave-group__message",children:[" ",t," "]}),Object(j.jsxs)("div",{className:"leave-group__buttons",children:[Object(j.jsxs)("button",{onClick:c,className:"outline-btn leave-group__buttons--light",children:[" ",n," "]}),Object(j.jsxs)("button",{className:"outline-btn leave-group__buttons--danger",children:[" ",r," "]})]})]})},ut=function(e){var t=e.showAllImages,n=e.isPrivate,c=e.title,a=e.deleteGroup,o=Object(r.useState)(!1),s=Object(u.a)(o,2),i=s[0],l=s[1],d=Object(r.useState)(""),b=Object(u.a)(d,2),h=b[0],f=b[1],g=function(){f(n?"Delete Group":"Leave Group")};Object(r.useEffect)((function(){return document.addEventListener("click",(function(e){"svg"!==e.target.tagName&&l(!1)}))}),[]);var x=function(e){l(!i)},v=function(e){var t=e.mobile,n=e.isPrivate,r=["grid__header-dots"];!n&&r.push("ml-6"),!t&&r.push("top-10");var c=r.join(" ").trim();return Object(j.jsxs)(p,{distance:"50%",className:c,dropdown:i,children:[Object(j.jsx)(O,{children:Object(j.jsx)("button",{onClick:x,children:Object(j.jsx)(Y.EllipsisHorizontal,{color:"#dbdbdb"})})}),Object(j.jsx)(m,{children:"Add Photos"}),Object(j.jsx)(m,{children:"Add Members"}),Object(j.jsx)(m,{onClick:g,children:n?"Delete":"Leave"})]})};return Object(j.jsxs)("div",{className:"grid__header",children:[Object(j.jsxs)("div",{className:"grid__header-info--mobile",children:[Object(j.jsx)("h1",{className:"grid__header-title",children:c}),Object(j.jsx)(v,{mobile:!0,isPrivate:n})]}),Object(j.jsxs)("div",{className:"grid__header-info",children:[Object(j.jsx)("h1",{className:"hide-mobile",children:c}),!n&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{children:"30 Members"}),Object(j.jsx)($e,{showAll:t,resource:"photo",className:"".concat(n?"":"ml-auto")})]}),window.innerWidth>480&&Object(j.jsx)(v,{mobile:!1,isPrivate:n})]}),Object(j.jsx)(pe,{modal:h,setModal:f,title:h,width:"30%",children:n?Object(j.jsx)(lt,{message:"Do you want to delete the group only, or delete the group and all photos in it?",buttonLightTitle:"Delete group only",buttonDangerTitle:"Delete group and all images",deleteGroup:function(){a(),f(!1),window.location.href=window.location.origin+"/groups"}}):Object(j.jsx)(lt,{message:"Do you want to leave and delete the group, or keep it with your images only?",buttonLightTitle:"Keep group",buttonDangerTitle:"Delete group"})})]})},jt=Object(l.b)((function(e){return{showAllImages:e.groups.showAllImages,group:e.groups.active,user:e.auth.user._id}}),{getOneGroup:function(e){return function(){var t=Object(g.a)(Object(f.a)().mark((function t(n){var r;return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.get("api/group/".concat(e));case 3:r=t.sent,n({type:z,payload:r.data}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},clearGroup:function(){return function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:Q})}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deleteGroup:function(e){return function(){var t=Object(g.a)(Object(f.a)().mark((function t(n){var r;return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.delete("api/group/".concat(e));case 3:r=t.sent,n({type:H,payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.match,n=e.showAllImages,c=e.getOneGroup,a=e.group,o=e.clearGroup,s=e.deleteGroup,i=(e.images,e.user);return Object(r.useEffect)((function(){o(),c(t.params.id)}),[]),Object(j.jsx)(ee,{children:a&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ut,{isPrivate:a.private,showAllImages:n,title:a.title,deleteGroup:function(){return s(a._id)}}),Object(j.jsx)(de,{images:n?a.images:a.images.filter((function(e){return e.user===i}))})]})})})),dt=Object(l.b)((function(e){return{}}),{uploadImage:W})((function(e){var t=e.uploadImage;return Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"file",multiple:!0,onChange:function(e){t(e.target.files[0])}}),Object(j.jsx)("button",{children:"Upload!"})]})}));var bt=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,token:e.auth.token}}),{})((function(e){var t=e.isAuthenticated,n=e.token;return Object(r.useEffect)((function(){Je.dispatch(Ge()),Je.dispatch(function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){t({type:A})}),1e3);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[n]),Object(j.jsxs)(s.a,{children:[Object(j.jsx)(h,{authenticated:t,username:"username",logout:function(){return Je.dispatch(function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:y});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}),Object(j.jsxs)(i.d,{children:[Object(j.jsx)(Re,{exact:!0,path:"/",component:_e}),Object(j.jsx)(Re,{exact:!0,path:"/groups",component:it}),Object(j.jsx)(Re,{exact:!0,path:"/groups/:id",component:jt}),Object(j.jsx)(i.b,{exact:!0,path:"/upload",component:dt}),Object(j.jsx)(i.b,{exact:!0,path:"/login",component:Me}),Object(j.jsx)(i.b,{exact:!0,path:"/register",component:Le})]})]})})),pt=function(e){var t=e.children;return Object(j.jsx)(l.a,{store:Je,children:t})};o.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(pt,{children:Object(j.jsx)(bt,{})})}),document.getElementById("root"))},60:function(e,t,n){}},[[1396,1,2]]]);
//# sourceMappingURL=main.19825e81.chunk.js.map