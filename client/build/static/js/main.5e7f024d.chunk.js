(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{1396:function(e,t,n){"use strict";n.r(t);var c=n(4),r=n.n(c),a=n(23),o=n.n(a),s=n(9),i=n(18),l=n(12),u=n(11),j=(n(60),n(3));var d=function(e){var t=e.hideOnMobile;return Object(j.jsxs)("div",{className:"searchbar ".concat(t?"hide-mobile":""),children:[Object(j.jsx)("i",{className:"fas fa-search searchbar__icon"}),Object(j.jsx)("input",{className:"searchbar__input",type:"text",placeholder:"Search"}),Object(j.jsx)("i",{className:"fas fa-times searchbar__close"})]})},b="data:image/png;base64,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",p=function(e){var t=e.children,n=e.hideOnMobile,c=e.dropdown,a=e.className,o=e.distance,s=r.a.Children.toArray(t),i=s[0],l=s.filter((function(e,t){return 0!==t}));return Object(j.jsxs)("div",{className:"dropdown ".concat(a," ").concat(n?"hide-mobile":""),children:[i,Object(j.jsx)("ul",{className:"dropdown-menu ".concat(c?"show":""),style:{top:o},children:l})]})},O=function(e){return e.children},m=function(e){var t=e.children,n=e.onClick;return Object(j.jsx)("li",{children:Object(j.jsx)("button",{className:"dropdown-item",href:"#",onClick:n,children:t})})};p.defaultProps={distance:"100%"};var h=function(e){var t=e.authenticated,n=(e.username,e.logout),r=Object(c.useState)("register"),a=Object(s.a)(r,2),o=a[0],l=a[1],u=Object(c.useState)(!1),h=Object(s.a)(u,2),f=h[0],g=h[1];function x(){l(window.location.href)}Object(c.useEffect)((function(){return document.addEventListener("click",(function(e){e.target.classList.contains("fas")||g(!1)}))}),[]);var v=Object(j.jsx)(i.b,{to:"/",children:Object(j.jsxs)("div",{className:"header__logo",children:[Object(j.jsx)("img",{src:b,alt:"logo"}),Object(j.jsx)("h1",{children:"Minite"})]})}),k=Object(j.jsxs)("div",{className:"nav nav--login",children:[v,Object(j.jsx)(d,{hideOnMobile:!0}),Object(j.jsxs)(p,{dropdown:f,setDropdown:g,hideOnMobile:!0,children:[Object(j.jsx)(O,{children:Object(j.jsxs)("button",{className:"btn btn-primary btn-dropdown",onClick:function(){g(!f)},children:["Profile",Object(j.jsx)("i",{className:"fas fa-chevron-down"})]})}),Object(j.jsx)(m,{onClick:n,children:"Log out"})]})]}),w=Object(j.jsxs)("div",{className:"nav nav--logout",children:[v,o.includes("login")?Object(j.jsxs)(i.b,{to:"login",className:"nav__link",onClick:x,children:["Sign in ",Object(j.jsx)("i",{className:"fas fa-sign-in-alt",children:" "})]}):Object(j.jsxs)(i.b,{to:"register",className:"nav__link",onClick:x,children:["Sign up ",Object(j.jsx)("i",{className:"fas fa-user-plus",children:" "})]})]});return Object(j.jsx)("div",{className:"header",children:t?k:w})},f=n(8),g=n(10),x="REGISTER_SUCCESS",v="REGISTER_FAIL",k="LOGIN_SUCCESS",w="LOGIN_FAIL",y="LOGIN_CHECK",A="LOGOUT_USER",_="GET_USER",E="GET_ALL_USERS",S="SET_ERROR",N="CLEAR_ERROR",I="GET_IMAGES",C="CLEAR_IMAGES",G="UPLOAD_IMAGES_SUCCESS",B="DELETE_IMAGES",P="UPDATE_PROGRESS",M="GET_BOOKMARKS",L="SAVE_BOOKMARK",D="DELETE_BOOKMARK",U="UPDATE_BOOKMARK",R="SORT_BOOKMARKS",T="SET_ACTIVE_BOOKMARK",F="TOGGLE_SHOW_ALL_GROUPS",H="TOGGLE_SHOW_ALL_IMAGES",K="GET_GROUPS",z="SAVE_GROUP",Q="DELETE_GROUP",V="SET_ACTIVE_GROUP",X="GET_ONE_GROUP",q="CLEAR_GROUP",W="UPDATE_GROUP",Z="START_SELECTION",Y="END_SELECTION",J=n(28),$=n.n(J),ee={baseUrl:"https://www.minite.io/"},te=function(){var e={baseURL:ee.baseUrl,headers:{"Content-Type":"application/json"}},t=$.a.create(e);return t.interceptors.request.use((function(e){var t=localStorage.getItem("token");return e.headers["x-auth-token"]=t||"",e})),t}(),ne=function(){return function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){var n;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.get("api/group");case 3:n=e.sent,t({type:K,payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},ce=function(e,t){return function(){var n=Object(g.a)(Object(f.a)().mark((function n(c){var r;return Object(f.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,te.put("api/group/add/images/"+e,t);case 3:r=n.sent,c({type:W,payload:r.data}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},re=function(e,t){return function(){var n=Object(g.a)(Object(f.a)().mark((function n(c){var r,a,o,s,i;return Object(f.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=0,n.next=4,te.get("/api/upload/image?count="+e.length);case 4:a=n.sent,o=0;case 6:if(!(o<e.length)){n.next=16;break}return n.next=9,$.a.put(a.data.urls[o],e[o],{headers:{"Content-Type":"image/jpeg"}});case 9:n.sent,r++,console.log("uploading: ",r),c({type:P,payload:{number:r,total:e.length}});case 13:o++,n.next=6;break;case 16:return r===e.length&&c({type:P,payload:{number:null,total:null}}),n.next=19,te.post("/api/image",a.data.keys);case 19:s=n.sent,c({type:G,payload:s.data}),t&&(i=s.data.map((function(e){return e._id})),c(ce(t._id,{images:i}))),n.next=27;break;case 24:n.prev=24,n.t0=n.catch(0),console.log(n.t0);case 27:case"end":return n.stop()}}),n,null,[[0,24]])})));return function(e){return n.apply(this,arguments)}}()},ae=function(e){var t=e.children,n=e.modal,c=e.setModal,r=e.title,a=e.width,o=e.reset;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"modal ".concat(n?"show":"fade"),onClick:function(e){var t=e.target.classList.contains("modal"),n=e.target.classList.contains("modal__header-close");(t||n)&&(c(!1),o&&o(),document.querySelector("body").classList.remove("no-scroll"))},children:Object(j.jsxs)("div",{style:{width:"".concat(a||"40%")},className:"modal__content",children:[Object(j.jsxs)("div",{className:"modal__header",children:[Object(j.jsx)("p",{className:"modal__header-title",children:r}),Object(j.jsx)("span",{className:"modal__header-close",children:"\xd7"})]}),Object(j.jsx)("div",{className:"modal__body",children:t})]})})})},oe=n(5),se=Object(u.b)((function(e){return{groups:e.groups.groups}}),{uploadImages:re})((function(e){var t=e.uploadImages,n=e.groups,r=window.location.pathname,a=Object(c.useState)(0),o=Object(s.a)(a,2),l=o[0],u=o[1],d=Object(c.useState)(!1),b=Object(s.a)(d,2),p=b[0],O=b[1],m=Object(c.useState)(0),h=Object(s.a)(m,2),f=h[0],g=h[1],x=Object(c.useState)(null),v=Object(s.a)(x,2),k=v[0],w=v[1],y=Object(c.useState)(null),A=Object(s.a)(y,2),_=A[0],E=A[1];Object(c.useEffect)((function(){"/"===r?u(0):r.includes("groups")&&u(1)}));var S=function(e){return e===l?"sidebar__link sidebar__link--active":"sidebar__link"};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("ul",{className:"sidebar",children:[Object(j.jsx)(i.b,{to:"/",children:Object(j.jsxs)("li",{className:S(0),children:[0===l?Object(j.jsx)(oe.Home,{height:"17px"}):Object(j.jsx)(oe.HomeOutline,{height:"17px"}),Object(j.jsx)("p",{children:"Photos"})]})}),Object(j.jsx)(i.b,{to:"/groups",children:Object(j.jsxs)("li",{className:S(1),children:[1===l?Object(j.jsx)(oe.Grid,{height:"17px"}):Object(j.jsx)(oe.GridOutline,{height:"17px"}),Object(j.jsx)("p",{children:"Groups"})]})}),Object(j.jsxs)("li",{className:S(2),children:[2===l?Object(j.jsx)(oe.Pricetag,{height:"17px"}):Object(j.jsx)(oe.PricetagOutline,{height:"17px"}),Object(j.jsx)("p",{children:"Tags"})]}),Object(j.jsx)("li",{className:"sidebar__link",children:Object(j.jsxs)("div",{className:"sidebar__btn btn-round",onClick:function(){document.getElementById("real-file").click()},children:[Object(j.jsx)("input",{type:"file",name:"",id:"real-file",hidden:"hidden",multiple:!0,onChange:function(e){O(!0),g(e.target.files.length),E(e.target.files)}}),Object(j.jsx)(oe.Add,{height:"20px"}),Object(j.jsx)("p",{children:"Upload"})]})})]}),Object(j.jsxs)(ae,{modal:p,setModal:O,title:"Upload Images",width:"30%",children:[Object(j.jsxs)("p",{children:["Images to be uploaded: ","".concat(f,1===f?" photo":" photos")]}),Object(j.jsx)("br",{}),Object(j.jsx)("p",{children:"Select a group (optional):"}),Object(j.jsx)("ul",{className:"upload-list",children:n&&n.map((function(e,t){return Object(j.jsx)("li",{className:"upload-list-item ".concat(k===t&&"active"),onClick:function(){return w(t)},children:e.title},e._id)}))}),Object(j.jsx)("button",{className:"regular-btn w-100 mb-4",onClick:function(){t(_,n[k]),O(!1),g(0),w(null),E(null)},children:"Upload Photos"})]})]})})),ie=Object(u.b)((function(e){return{groups:e.groups.groups}}),{uploadImages:re})((function(e){e.uploadImages,e.groups;var t=[{icon:Object(j.jsx)(oe.HomeOutline,{height:"1.8rem"}),iconActive:Object(j.jsx)(oe.Home,{height:"1.8rem"}),text:"Photos",link:"/"},{icon:Object(j.jsx)(oe.GridOutline,{height:"1.8rem"}),iconActive:Object(j.jsx)(oe.Grid,{height:"1.8rem"}),text:"Groups",link:"/groups"},{icon:Object(j.jsx)(oe.PricetagOutline,{height:"1.8rem"}),iconActive:Object(j.jsx)(oe.Pricetag,{height:"1.8rem"}),text:"Tags",link:"/"},{icon:Object(j.jsx)(oe.Add,{height:"1.8rem"}),iconActive:Object(j.jsx)(oe.Add,{height:"1.8rem"}),text:"Upload"}],n=window.location.origin,r=window.location.pathname;Object(c.useEffect)((function(){"/"===r?l(0):r.includes("groups")&&l(1)}));var a=Object(c.useState)(0),o=Object(s.a)(a,2),i=o[0],l=o[1],u=Object(c.useState)(!1),d=Object(s.a)(u,2),b=(d[0],d[1]),p=Object(c.useState)(0),O=Object(s.a)(p,2),m=(O[0],O[1]),h=Object(c.useState)(null),f=Object(s.a)(h,2),g=(f[0],f[1],Object(c.useState)(null)),x=Object(s.a)(g,2),v=(x[0],x[1]);function k(){document.getElementById("real-file").click()}var w=function(e){b(!0),m(e.target.files.length),v(e.target.files)};return Object(j.jsx)("nav",{className:"bottom-nav",children:t.map((function(e,c){return Object(j.jsxs)("button",{href:"",className:"bottom-nav-link ".concat(i===c&&"bottom-nav-link--active"),onClick:function(e){return function(e,c){e.preventDefault(),3!==c&&(l(c),window.location.href=n+t[c].link)}(e,c)},children:[i===c?e.iconActive:e.icon,3!==c?Object(j.jsx)("span",{className:"bottom-nav-text",children:e.text}):Object(j.jsxs)("span",{className:"bottom-nav-text",onClick:k,children:[Object(j.jsx)("input",{type:"file",name:"",id:"real-file",hidden:"hidden",multiple:!0,onChange:w}),"Upload"]})]},c)}))})}));var le=function(e){var t=e.children;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(se,{}),Object(j.jsx)("div",{className:"content",children:t})]}),Object(j.jsx)(ie,{})]})},ue="gainsboro",je="#05B3D7",de="#333B3F",be="17px";window.innerWidth<400&&(be="20px");var pe={camera:Object(j.jsx)(oe.Camera,{height:be}),airplane:Object(j.jsx)(oe.Airplane,{height:be}),school:Object(j.jsx)(oe.School,{height:be}),alarm:Object(j.jsx)(oe.Alarm,{height:be}),americanfootball:Object(j.jsx)(oe.AmericanFootball,{height:be}),bag:Object(j.jsx)(oe.Bag,{height:be}),book:Object(j.jsx)(oe.Book,{height:be}),beer:Object(j.jsx)(oe.Beer,{height:be}),cafe:Object(j.jsx)(oe.Cafe,{height:be}),cart:Object(j.jsx)(oe.Cart,{height:be}),clipboard:Object(j.jsx)(oe.Clipboard,{height:be}),cloud:Object(j.jsx)(oe.Cloud,{height:be}),flask:Object(j.jsx)(oe.Flask,{height:be}),heart:Object(j.jsx)(oe.Heart,{height:be}),map:Object(j.jsx)(oe.Map,{height:be}),paw:Object(j.jsx)(oe.Paw,{height:be})},Oe=[{name:"airplane",darkIcon:Object(j.jsx)(oe.Airplane,{color:de}),greyIcon:Object(j.jsx)(oe.Airplane,{color:ue}),primaryIcon:Object(j.jsx)(oe.Airplane,{color:je})},{name:"alarm",darkIcon:Object(j.jsx)(oe.Alarm,{color:de}),greyIcon:Object(j.jsx)(oe.Alarm,{color:ue}),primaryIcon:Object(j.jsx)(oe.Alarm,{color:je})},{name:"americanfootball",darkIcon:Object(j.jsx)(oe.AmericanFootball,{color:de}),greyIcon:Object(j.jsx)(oe.AmericanFootball,{color:ue}),primaryIcon:Object(j.jsx)(oe.AmericanFootball,{color:je})},{name:"bag",darkIcon:Object(j.jsx)(oe.Bag,{color:de}),greyIcon:Object(j.jsx)(oe.Bag,{color:ue}),primaryIcon:Object(j.jsx)(oe.Bag,{color:je})},{name:"book",darkIcon:Object(j.jsx)(oe.Book,{color:de}),greyIcon:Object(j.jsx)(oe.Book,{color:ue}),primaryIcon:Object(j.jsx)(oe.Book,{color:je})},{name:"beer",darkIcon:Object(j.jsx)(oe.Beer,{color:de}),greyIcon:Object(j.jsx)(oe.Beer,{color:ue}),primaryIcon:Object(j.jsx)(oe.Beer,{color:je})},{name:"cafe",darkIcon:Object(j.jsx)(oe.Cafe,{color:de}),greyIcon:Object(j.jsx)(oe.Cafe,{color:ue}),primaryIcon:Object(j.jsx)(oe.Cafe,{color:je})},{name:"camera",darkIcon:Object(j.jsx)(oe.Camera,{color:de}),greyIcon:Object(j.jsx)(oe.Camera,{color:ue}),primaryIcon:Object(j.jsx)(oe.Camera,{color:je})},{name:"cart",darkIcon:Object(j.jsx)(oe.Cart,{color:de}),greyIcon:Object(j.jsx)(oe.Cart,{color:ue}),primaryIcon:Object(j.jsx)(oe.Cart,{color:je})},{name:"clipboard",darkIcon:Object(j.jsx)(oe.Clipboard,{color:de}),greyIcon:Object(j.jsx)(oe.Clipboard,{color:ue}),primaryIcon:Object(j.jsx)(oe.Clipboard,{color:je})},{name:"cloud",darkIcon:Object(j.jsx)(oe.Cloud,{color:de}),greyIcon:Object(j.jsx)(oe.Cloud,{color:ue}),primaryIcon:Object(j.jsx)(oe.Cloud,{color:je})},{name:"flask",darkIcon:Object(j.jsx)(oe.Flask,{color:de}),greyIcon:Object(j.jsx)(oe.Flask,{color:ue}),primaryIcon:Object(j.jsx)(oe.Flask,{color:je})},{name:"heart",darkIcon:Object(j.jsx)(oe.Heart,{color:de}),greyIcon:Object(j.jsx)(oe.Heart,{color:ue}),primaryIcon:Object(j.jsx)(oe.Heart,{color:je})},{name:"map",darkIcon:Object(j.jsx)(oe.Map,{color:de}),greyIcon:Object(j.jsx)(oe.Map,{color:ue}),primaryIcon:Object(j.jsx)(oe.Map,{color:je})},{name:"paw",darkIcon:Object(j.jsx)(oe.Paw,{color:de}),greyIcon:Object(j.jsx)(oe.Paw,{color:ue}),primaryIcon:Object(j.jsx)(oe.Paw,{color:je})},{name:"school",darkIcon:Object(j.jsx)(oe.School,{color:de}),greyIcon:Object(j.jsx)(oe.School,{color:ue}),primaryIcon:Object(j.jsx)(oe.School,{color:je})}],me=function(e){var t=e.bookmarks,n=e.active,r=e.setActive,a=e.openManageBookmarks,o=Object(c.useState)(!1),i=Object(s.a)(o,2),l=i[0],u=i[1];Object(c.useEffect)((function(){return document.addEventListener("click",(function(e){"svg"!==e.target.tagName&&u(!1)}))}),[]);return Object(j.jsxs)("div",{className:"grid__header",children:[Object(j.jsx)("h1",{className:"grid__header-title hide-desktop",children:"All Photos"}),Object(j.jsxs)("div",{className:"grid__header-tabs",children:[t.map((function(e,t){return Object(j.jsxs)("div",{className:"".concat(t===n?"active":""),onClick:function(){return r(t)},children:[pe[e.icon],Object(j.jsx)("p",{children:e.name})]},t)})),Object(j.jsxs)(p,{distance:"50%",className:"grid__header-dots",dropdown:l,children:[Object(j.jsx)(O,{children:Object(j.jsx)("button",{onClick:function(e){u(!l)},children:Object(j.jsx)(oe.EllipsisHorizontal,{color:"#dbdbdb"})})}),Object(j.jsx)(m,{onClick:a,children:"Manage Bookmarks"})]})]})]})},he=n(19),fe=n(6),ge=function(e){(function(e){return"touches"in e})(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()},xe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.shouldPreventDefault,a=void 0===r||r,o=n.delay,i=void 0===o?300:o,l=Object(c.useState)(!1),u=Object(s.a)(l,2),j=u[0],d=u[1],b=Object(c.useRef)(),p=Object(c.useRef)(),O=Object(c.useCallback)((function(t){a&&t.target&&(t.target.addEventListener("touchend",ge,{passive:!1}),p.current=t.target),b.current=setTimeout((function(){e(t),d(!0)}),i)}),[e,i,a]),m=Object(c.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];b.current&&clearTimeout(b.current),n&&!j&&t(),d(!1),a&&p.current&&p.current.removeEventListener("touchend",ge)}),[a,t,j]);return{onMouseDown:function(e){return O(e)},onTouchStart:function(e){return O(e)},onMouseUp:function(e){return m(e)},onMouseLeave:function(e){return m(e,!1)},onTouchEnd:function(e){return m(e)}}},ve=function(e){var t=e.openGridModal,n=e.imageId,c=e.imageURL,r=e.i,a=e.startSelection,o=e.selection,s=e.isSelected,i=e.toggleSelectedImage,l=xe((function(){a(),i(n)}),(function(){o?i(n):t(c,r)}),{shouldPreventDefault:!0,delay:200});return Object(j.jsx)("div",Object(fe.a)(Object(fe.a)({},l),{},{className:"grid__body-item ".concat(s&&"grid__body-item--selected"),style:{backgroundImage:"url(".concat(c,")")}}))},ke=function(){return Object(j.jsx)("div",{className:"grid__empty",children:"There's no images here yet."})},we=function(e){var t=e.images,n=e.currentImageIndex,r=e.closeGridModal,a=Object(c.useState)(!0),o=Object(s.a)(a,2),i=o[0],l=o[1];Object(c.useEffect)((function(){return document.addEventListener("keydown",(function(e){"Escape"===e.key&&r()}))}),[]);var u=t[t.length-1],d=t[0];t=[u].concat(Object(he.a)(t),[d]);var b=Object(c.useState)(n+1),p=Object(s.a)(b,2),O=p[0],m=p[1],h=Object(c.useState)(""),f=Object(s.a)(h,2),g=f[0],x=f[1],v=function(){0===O&&(x("none"),m(t.length-2)),O===t.length-1&&(x("none"),m(1))};return Object(j.jsxs)("div",{className:"grid__modal",onClick:function(e){e.target.classList.contains("fas")||l(!i)},children:[Object(j.jsx)("div",{className:"grid__modal-carousel",children:t.map((function(e,t){return Object(j.jsx)("div",{className:"grid__modal-slide",style:{transform:"translateX(-".concat(100*O,"%)"),transition:g},onTransitionEnd:v,id:t,children:Object(j.jsx)("img",{src:"https://minite-bucket.s3.us-west-1.amazonaws.com/".concat(e.url),alt:"",style:(n=e.orientation,window.innerWidth<600||"landscape"===n?{width:"100%"}:{height:"100%"})})},t);var n}))}),Object(j.jsx)("button",{className:"grid__modal-btn grid__modal-btn--left ".concat(i?"":"hidden"),onClick:function(){O<=0||(x("transform .3s ease-in-out"),m(0===O?t.length-1:O-1))},children:Object(j.jsx)("i",{className:"fas fa-chevron-left"})}),Object(j.jsx)("button",{className:"grid__modal-btn grid__modal-btn--right ".concat(i?"":"hidden"),onClick:function(){O>=t.length-1||(x("transform .3s ease-in-out"),O===t.length-1?m(1):m(O+1))},children:Object(j.jsx)("i",{className:"fas fa-chevron-right"})}),Object(j.jsx)("button",{className:"grid__modal-btn grid__modal-btn--close ".concat(i?"":"hidden"),onClick:r,children:Object(j.jsx)("i",{className:"fas fa-times"})})]})},ye=n(1398),Ae=Object(u.b)((function(e){return{selection:e.edit.selection}}),{startSelection:function(){return function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Z});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},endSelection:function(){return function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Y});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deleteImages:function(e){return function(){var t=Object(g.a)(Object(f.a)().mark((function t(n){var c;return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te.delete("/api/image",{data:e});case 3:c=t.sent,n({type:B,payload:c.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.images,n=e.selection,r=e.startSelection,a=e.endSelection,o=e.deleteImages,i=Object(c.useState)(null),l=Object(s.a)(i,2),u=l[0],d=l[1],b=Object(c.useState)([]),p=Object(s.a)(b,2),O=p[0],m=p[1];Object(c.useEffect)((function(){return document.addEventListener("keydown",(function(e){"Escape"===e.key&&(a(),m([]))}))}),[]);var h=function(e,t){document.querySelector("body").classList.add("no-scroll"),d(t)},f=function(e){var t=Object(he.a)(O);if(O.includes(e)){var n=O.indexOf(e);t.splice(n,1),m(t)}else t.push(e),m(t)},g=Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"grid__body",children:t.map((function(e,t){return Object(j.jsx)(ve,{isSelected:O.includes(e._id),toggleSelectedImage:f,startSelection:r,selection:n,openGridModal:h,imageURL:"https://minite-bucket.s3.us-west-1.amazonaws.com/".concat(e.url),imageId:e._id,i:t},e._id)}))}),n&&Object(j.jsx)("div",{className:"grid__edit",children:Object(j.jsx)(ye.a,{size:"20px",onClick:function(){return o(O)}})}),null!==u&&Object(j.jsx)(we,{images:t,closeGridModal:function(){document.querySelector("body").classList.remove("no-scroll"),d(null)},currentImageIndex:u})]});return 0===t.length?Object(j.jsx)(ke,{}):g})),_e=function(){return Object(j.jsxs)("div",{className:"loading-dots",children:[Object(j.jsx)("div",{className:"bounce1"}),Object(j.jsx)("div",{className:"bounce2"}),Object(j.jsx)("div",{className:"bounce3"})]})},Ee=n(29),Se=function(e){var t=e.onClick,n=e.title,c=["modal-form__add-btn",e.className].join(" ").trim();return Object(j.jsxs)("button",{className:c,onClick:t,children:[Object(j.jsx)(oe.Add,{color:"grey"}),Object(j.jsxs)("p",{children:[n," "]})]})};Se.defaultProps={className:""};var Ne=Se,Ie=r.a.forwardRef((function(e,t){var n=e.onClick,c=e.selected,r=e.setSelected,a=e.dropdown,o=e.value,s=e.setValue,i=e.data,l=void 0===i?[]:i,u=e.placeholder,d=void 0===u?"":u,b=e.className,p=["input__container",void 0===b?"":b,a?"input__container--dropdown":""].join(" ").trim();return Object(j.jsxs)("div",{className:p,children:[Object(j.jsx)("input",{onClick:n,ref:t,value:o,onChange:function(e){return s(e.target.value)},type:"text",placeholder:d}),a&&Object(j.jsx)(Ce,{data:l,selected:c,setSelected:r,searchPhrase:o,setSearchPhrase:s})]})})),Ce=function(e){var t=e.searchPhrase,n=e.setSearchPhrase,r=e.selected,a=e.setSelected,o=(e.data,[{name:"vicky",_id:"621259f788353f9b409d9cbf"},{name:"charlie",_id:"62477747ea4aa080468c989f"}]),i=Object(c.useState)([]),l=Object(s.a)(i,2),u=l[0],d=l[1];Object(c.useEffect)((function(){b()}),[t,r]);var b=function(){var e=[],n=t.toLowerCase();o.forEach((function(t){var c;t.name.indexOf(n)>-1&&(null===(c=r.name)||void 0===c||!c.includes(t.name))&&e.push(t)})),d(e)};return Object(j.jsx)("div",{className:"input__dropdown ".concat(u.length&&"show"),children:Object(j.jsx)("ul",{className:"input__dropdown-list",children:u.map((function(e){return Object(j.jsx)("li",{onClick:function(){return function(e){a([].concat(Object(he.a)(r),[e])),n(""),document.querySelector(".modal-form__input input").focus()}(e)},className:"input__dropdown-item",children:e.name},e)}))})})},Ge=Ie,Be=Object(u.b)((function(e){return{}}),{updateBookmark:function(e,t){return function(){var n=Object(g.a)(Object(f.a)().mark((function n(c){var r;return Object(f.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,te.put("/api/bookmark/".concat(e),t);case 3:r=n.sent,c({type:U,payload:r.data}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},saveBookmark:function(e){return function(){var t=Object(g.a)(Object(f.a)().mark((function t(n){var c;return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te.post("/api/bookmark",e);case 3:c=t.sent,n({type:L,payload:c.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.closeForm,n=e.editData,r=e.showForm,a=e.updateBookmark,o=e.saveBookmark,i=Object(c.useState)(""),l=Object(s.a)(i,2),u=l[0],d=l[1],b=Object(c.useState)(""),p=Object(s.a)(b,2),O=p[0],m=p[1],h=Object(c.useRef)();Object(c.useEffect)((function(){(n||r)&&h.current.focus(),n&&function(e,t){d(e),m(t)}(n.name,n.icon)}),[n,r]);var f=function(){var e=Math.floor(Math.random()*pe.length-1);return pe[e]};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"modal-form",children:[Object(j.jsx)(oe.Close,{className:"modal-form__close",onClick:t}),Object(j.jsx)(Ge,{className:"modal-form__input modal-form__input--bookmarks",ref:h,value:u,setValue:d,placeholder:"Bookmark name"}),Object(j.jsx)("button",{onClick:function(){if(!u)return console.log("Name is required");n?a(n._id,{name:u,icon:O}):function(){var e={name:u,icon:O||f()};o(e)}(),t()},className:"modal-form__button",children:"Save"})]}),Object(j.jsx)("div",{className:"modal-form__icons",children:Oe.map((function(e,t){return Object(j.jsx)("div",{onClick:function(){return m(e.name)},children:O===e.name?e.primaryIcon:e.greyIcon},t)}))})]})})),Pe=function(e){var t=e.showEdits,n=e.onEdit,c=e.onDelete;return Object(j.jsxs)("div",{className:"bookmarks__item-edits ".concat(t?"show":""),children:[Object(j.jsx)(oe.CreateOutline,{onClick:n,color:"darkgrey"}),Object(j.jsx)(oe.TrashOutline,{onClick:c,color:"#ED4857"})]})},Me=Object(u.b)((function(e){return{activeBookmark:e.bookmarks.activeBookmark}}),{deleteBookmark:function(e){return function(){var t=Object(g.a)(Object(f.a)().mark((function t(n){var c;return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te.delete("/api/bookmark/".concat(e));case 3:c=t.sent,n({type:D,payload:c.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.activeBookmark,n=e.setActive,c=e.deleteBookmark,r=e.showEdits,a=e.openEdit,o=e.provided,s=e.item,i=e.index;return Object(j.jsxs)("div",Object(fe.a)(Object(fe.a)({},o.draggableProps),{},{ref:o.innerRef,className:"bookmarks__item",children:[Object(j.jsx)("div",Object(fe.a)(Object(fe.a)({},o.dragHandleProps),{},{children:Object(j.jsx)(oe.ReorderTwoOutline,{className:"bookmarks__reorder",color:"silver"})})),pe[s.icon],Object(j.jsxs)("p",{className:"bookmarks__item-name",children:[" ",s.name," "]}),Object(j.jsx)(Pe,{onDelete:function(){window.confirm("Delete this bookmark?")&&c(s._id),t===i&&n(i-1)},onEdit:function(){a(i)},showEdits:r})]}))})),Le=function(e){var t=e.setActive,n=e.activeBookmark,c=e.bookmarks,r=e.closeBookmarksModal,a=e.showForm,o=e.showEdits,s=e.setShowForm,i=e.setShowEdits,l=e.editBookmark,u=e.setEditBookmark,d=e.sortBookmarks,b=function(){s(!1),u(null)},p=function(e){u(e),O()},O=function(){return i(!1)};return Object(j.jsxs)("div",{className:"bookmarks",children:[Object(j.jsxs)("div",{className:"bookmarks__title",children:[Object(j.jsx)("h1",{children:"Manage Bookmarks"}),a||null!==l?null:o?Object(j.jsx)(oe.CloseOutline,{color:"darkgrey",onClick:O}):Object(j.jsx)(oe.CreateOutline,{color:"darkgrey",onClick:function(){return i(!0)}})]}),Object(j.jsx)(Ee.a,{onDragStart:O,onDragEnd:function(e){return function(e){var r,a=e.source.index,o=null===(r=e.destination)||void 0===r?void 0:r.index;o>=0&&c.splice(o,0,c.splice(a,1)[0]);var s=c.map((function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{sort:t})}));d(s),t(n)}(e)},children:Object(j.jsx)(Ee.c,{droppableId:"droppable-1",children:function(e,n){return Object(j.jsxs)("div",Object(fe.a)(Object(fe.a)({ref:e.innerRef},e.droppableProps),{},{children:[c.map((function(e,n){return Object(j.jsx)(Ee.b,{draggableId:"draggable-".concat(n),index:n,children:function(c,r){return l===n?Object(j.jsx)(Be,{editData:e,closeForm:b}):Object(j.jsx)(Me,{showEdits:o,item:e,provided:c,openEdit:p,index:n,setActive:t})}},n)})),e.placeholder]}))}})}),null!==l?null:a?Object(j.jsx)(Be,{showForm:a,closeForm:b}):Object(j.jsx)(Ne,{title:"Add bookmark",onClick:function(){if(c.length>=5)return alert("Cannot have more than 5 bookmarks");s(!0),O()}}),!a&&null===l&&Object(j.jsx)("div",{className:"bookmarks__btn regular-btn",onClick:r,children:Object(j.jsx)("p",{children:"Done"})})]})},De=Object(u.b)((function(e){return{loadingImages:e.images.loading,images:e.images.images,loadingBookmarks:e.bookmarks.loading,bookmarks:e.bookmarks.bookmarks,activeBookmark:e.bookmarks.activeBookmark}}),{getImages:function(e){return function(){var t=Object(g.a)(Object(f.a)().mark((function t(n){var c;return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te.get("/api/image/".concat(e));case 3:c=t.sent,n({type:I,payload:c.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getBookmarks:function(){return function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){var n;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.get("/api/bookmark");case 3:n=e.sent,t({type:M,payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},setActiveBookmark:function(e){return function(){var t=Object(g.a)(Object(f.a)().mark((function t(n){return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:T,payload:e})}catch(c){console.log(c)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},clearImages:function(){return function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:C})}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},sortBookmarks:function(e){return function(){var t=Object(g.a)(Object(f.a)().mark((function t(n){var c;return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te.put("/api/bookmark/sort",e);case 3:c=t.sent,n({type:R,payload:c.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getGroups:ne})((function(e){var t=e.getImages,n=e.clearImages,r=e.getBookmarks,a=e.images,o=e.bookmarks,i=e.loadingImages,l=e.loadingBookmarks,u=e.setActiveBookmark,d=e.activeBookmark,b=e.sortBookmarks,p=e.getGroups,O=Object(c.useState)(!1),m=Object(s.a)(O,2),h=m[0],f=m[1],g=Object(c.useState)(!1),x=Object(s.a)(g,2),v=x[0],k=x[1],w=Object(c.useState)(!1),y=Object(s.a)(w,2),A=y[0],_=y[1],E=Object(c.useState)(null),S=Object(s.a)(E,2),N=S[0],I=S[1];Object(c.useEffect)((function(){p(),r(),!l&&t(o[0]._id)}),[l]);var C=function(e){n(),u(e),t(o[e]._id)};return Object(j.jsxs)(le,{children:[Object(j.jsx)(me,{openManageBookmarks:function(){return f(!0)},active:d,setActive:C,bookmarks:o}),i?Object(j.jsx)(_e,{}):Object(j.jsx)(Ae,{images:a}),Object(j.jsx)(ae,{modal:h,setModal:f,reset:function(){k(!1),_(!1),I(null)},title:"Bookmarks",width:"30%",children:Object(j.jsx)(Le,{bookmarks:o,closeBookmarksModal:function(){return f(!1)},showForm:v,setShowForm:k,showEdits:A,setShowEdits:_,editBookmark:N,setEditBookmark:I,setActive:C,activeBookmark:d,sortBookmarks:b})})]})})),Ue=n(24),Re=function(e){var t=e.children;return Object(j.jsx)("h1",{className:"form-heading",children:t})},Te=Object(c.forwardRef)((function(e,t){return Object(j.jsxs)("div",{className:"input-container",children:[Object(j.jsx)("input",Object(fe.a)(Object(fe.a)({},e),{},{ref:t})),Object(j.jsx)("small",{className:"invalid",children:e.validation})]})})),Fe=function(e){var t=e.title;return Object(j.jsx)("button",{type:"submit",children:t})};Te.defaultProps={type:"text",id:""};var He=function(e){var t=e.onSubmit,n=e.children,c=e.id;return Object(j.jsx)("form",{onSubmit:t,id:c,children:n})},Ke=function(e){return function(t){t({type:S,payload:e}),setTimeout((function(){t({type:N})}),3e3)}},ze=function(){return function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){var n;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.get("/api/user");case 3:n=e.sent,t({type:_,payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()};var Qe=function(e){var t=e.message,n=e.type;return Object(j.jsx)("div",{className:"alert alert-".concat(n),children:Object(j.jsx)("p",{children:t})})};var Ve=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.auth.user,error:e.alerts.error}}),{login:function(e,t){return function(){var n=Object(g.a)(Object(f.a)().mark((function n(c){var r,a,o;return Object(f.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={headers:{Accept:"application/json","Content-Type":"application/json"}},a=JSON.stringify({name:e,password:t}),n.prev=2,n.next=5,te.post("/api/user/login",a,r);case 5:o=n.sent,c({type:k,payload:o.data}),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(2),c(Ke(n.t0.response.data.msg)),c({type:w});case 13:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()},getUser:ze,setError:Ke})((function(e){var t=e.history,n=e.isAuthenticated,r=e.user,a=e.error,o=e.login,i=e.getUser,l=e.setError;Object(c.useEffect)((function(){"loggedOut"!==r&&i()}),[i,r,t]),Object(c.useEffect)((function(){n&&t.push("/")}),[n,t]);var u=Object(c.useState)({name:"",password:""}),d=Object(s.a)(u,2),p=d[0],O=d[1],m=p.name,h=p.password,x=function(e){O(Object(fe.a)(Object(fe.a)({},p),{},Object(Ue.a)({},e.target.name,e.target.value)))},v=function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==m&&""!==h){e.next=3;break}return e.abrupt("return",l("Please fill out all fields"));case 3:o(m,h);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"auth-card",children:[Object(j.jsx)("img",{className:"auth-icon",src:b,alt:"logo"}),Object(j.jsx)(Re,{children:"Sign into your account"}),a&&Object(j.jsx)(Qe,{message:a,type:"danger"}),Object(j.jsxs)(He,{onSubmit:v,children:[Object(j.jsx)(Te,{placeholder:"Username",name:"name",id:"name",value:m,onChange:x}),Object(j.jsx)(Te,{placeholder:"Password",name:"password",id:"password",value:h,onChange:x,type:"password"}),Object(j.jsx)(Fe,{title:"Log In"})]})]})}));var Xe=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.alerts.error}}),{register:function(e,t){return function(){var n=Object(g.a)(Object(f.a)().mark((function n(c){var r,a;return Object(f.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=JSON.stringify({name:e,password:t}),n.next=4,te.post("/api/user/register",r);case 4:a=n.sent,c({type:x,payload:a.data}),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),c(Ke(n.t0.response.data.msg)),c({type:v});case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},getUser:ze,setError:Ke})((function(e){var t=e.history,n=e.register,r=e.getUser,a=e.setError,o=e.isAuthenticated,i=e.error;Object(c.useEffect)((function(){r()}),[r]),Object(c.useEffect)((function(){o&&t.push("/")}),[o,t]);var l=Object(c.useState)({name:"",password:"",password2:""}),u=Object(s.a)(l,2),d=u[0],p=u[1],O=d.name,m=d.password,h=d.password2,x=function(e){p(Object(fe.a)(Object(fe.a)({},d),{},Object(Ue.a)({},e.target.name,e.target.value)))},v=function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==O&&""!==m&&""!==h){e.next=3;break}return e.abrupt("return",a("Please fill out all fields"));case 3:if(m===h){e.next=5;break}return e.abrupt("return",a("Passwords don't match"));case 5:n(O,m),p({name:"",password:"",password2:""});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"auth-card",children:[Object(j.jsx)("img",{className:"auth-icon",src:b,alt:"logo"}),Object(j.jsx)(Re,{children:"Create a new account"}),i&&Object(j.jsx)(Qe,{message:i,type:"danger"}),Object(j.jsxs)(He,{onSubmit:v,children:[Object(j.jsx)(Te,{name:"name",id:"name",placeholder:"Username",value:O,onChange:x}),Object(j.jsx)(Te,{name:"password",id:"password",placeholder:"Password",value:m,onChange:x,type:"password"}),Object(j.jsx)(Te,{name:"password2",id:"password2",placeholder:"Confirm Password",value:h,onChange:x,type:"password"}),Object(j.jsx)(Fe,{title:"Sign Up"})]})]})})),qe=n(48),We=["component","auth"],Ze=Object(u.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,n=e.auth,c=n.isAuthenticated,r=n.loading,a=n.loginCheck,o=Object(qe.a)(e,We);return Object(j.jsx)(l.b,Object(fe.a)(Object(fe.a)({},o),{},{render:function(e){return c&&!r?Object(j.jsx)(t,Object(fe.a)({},e)):c||a?!c&&a&&Object(j.jsx)(l.a,{to:"/login"}):null}}))})),Ye=n(20),Je=n(49),$e=n(51),et={token:localStorage.getItem("token"),isAuthenticated:!1,loading:!0,loginCheck:!1,user:null,allUsers:[]};var tt={error:""};var nt={loading:!0,images:[],progress:{number:null,total:null}};var ct={loading:!0,bookmarks:[],activeBookmark:0};var rt={groups:[],active:null,showAllGroups:!0,showAllImages:!0,loading:!0};var at={selection:!1};var ot=Object(Ye.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case k:case x:return localStorage.setItem("token",c.token),Object(fe.a)(Object(fe.a)({},e),{},{token:c.token,isAuthenticated:!0,loading:!1,user:c});case w:case v:case A:return localStorage.removeItem("token"),Object(fe.a)(Object(fe.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1,user:"loggedOut"});case y:return Object(fe.a)(Object(fe.a)({},e),{},{loginCheck:!0});case _:return Object(fe.a)(Object(fe.a)({},e),{},{isAuthenticated:!0,loading:!1,user:c});case E:return Object(fe.a)(Object(fe.a)({},e),{},{allUsers:c});default:return Object(fe.a)({},e)}},alerts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case S:return Object(fe.a)(Object(fe.a)({},e),{},{error:c});case N:return Object(fe.a)(Object(fe.a)({},e),{},{error:""});default:return e}},images:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case I:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,images:c});case C:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!0,images:[]});case G:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,images:[].concat(Object(he.a)(e.images),Object(he.a)(c))});case B:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,images:e.images.filter((function(e){return!c.includes(e._id)}))});case P:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,progress:{number:c.number,total:c.total}});default:return Object(fe.a)({},e)}},bookmarks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case M:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,bookmarks:c});case L:return Object(fe.a)(Object(fe.a)({},e),{},{bookmarks:[].concat(Object(he.a)(e.bookmarks),[c]),loading:!1});case U:return Object(fe.a)(Object(fe.a)({},e),{},{bookmarks:e.bookmarks.map((function(e){return e._id===c._id?c:e}))});case D:return Object(fe.a)(Object(fe.a)({},e),{},{bookmarks:e.bookmarks.filter((function(e){return e._id!==c._id}))});case T:return Object(fe.a)(Object(fe.a)({},e),{},{activeBookmark:c});case R:return Object(fe.a)(Object(fe.a)({},e),{},{bookmarks:c,loading:!1});default:return Object(fe.a)({},e)}},groups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0,n=t.payload,c=t.type;switch(c){case F:return Object(fe.a)(Object(fe.a)({},e),{},{showAllGroups:!e.showAllGroups});case H:return Object(fe.a)(Object(fe.a)({},e),{},{showAllImages:!e.showAllImages});case K:return Object(fe.a)(Object(fe.a)({},e),{},{groups:n,loading:!1});case z:return Object(fe.a)(Object(fe.a)({},e),{},{groups:[].concat(Object(he.a)(e.groups),[n])});case Q:return Object(fe.a)(Object(fe.a)({},e),{},{groups:e.groups.filter((function(e){return e._id!==n._id}))});case V:case X:return Object(fe.a)(Object(fe.a)({},e),{},{active:n});case q:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!0,active:null});case W:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,groups:e.groups.map((function(e){return e._id===n._id?n:e}))});default:return Object(fe.a)({},e)}},edit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0,n=(t.payload,t.type);switch(n){case Z:return Object(fe.a)(Object(fe.a)({},e),{},{selection:!0});case Y:return Object(fe.a)(Object(fe.a)({},e),{},{selection:!1});default:return Object(fe.a)({},e)}}}),st=n(50),it=n.n(st),lt=[$e.a,it.a],ut=Object(Ye.createStore)(ot,{},Object(Je.composeWithDevTools)(Ye.applyMiddleware.apply(void 0,lt))),jt=Object(u.b)(null,{toggleShowAll:function(e){return function(){var t=Object(g.a)(Object(f.a)().mark((function t(n){return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"group"===e?n({type:F}):"photo"===e&&n({type:H});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.showAll,n=e.toggleShowAll,c=e.resource,r=e.className,a=["group__toggle-btn",void 0===r?"":r].join(" ").trim(),o=c.split("")[0].toUpperCase()+c.slice(1)+"s",s=Object(j.jsxs)("button",{onClick:function(){return n(c)},className:a,children:[" ",Object(j.jsx)(oe.Person,{height:"17px",color:"#333"}),"My ",o]}),i=Object(j.jsxs)("button",{onClick:function(){return n(c)},className:a,children:[" ",Object(j.jsx)(oe.People,{height:"17px",color:"#333"}),"All ",o]});return t?i:s})),dt=function(e){var t=e.openCreateGroup,n=e.showAllGroups;return Object(j.jsxs)("div",{className:"group__header",children:[Object(j.jsx)("h1",{className:"group__title",children:" Groups"}),Object(j.jsxs)("button",{onClick:t,className:"regular-btn flex",children:[" ",Object(j.jsx)(oe.Add,{height:"17px",color:"#fff"}),"Add Group"]}),Object(j.jsxs)("div",{className:"group__search",children:[Object(j.jsx)("input",{className:"group__search-input",type:"text",placeholder:"Search groups"}),Object(j.jsx)(jt,{showAll:n,resource:"group"})]})]})},bt=function(e){var t=e.title,n=e.images,c=e.id,r=n.length;return Object(j.jsxs)(i.b,{to:"/groups/".concat(c),className:"group__list-item",children:[Object(j.jsx)("div",{className:"group__list-item--image"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{className:"group__list-item--title",children:t}),Object(j.jsx)("p",{className:"group__list-item--subtitle",children:1===r?"1 photo":"".concat(r," photos")})]})]})},pt=function(e){var t=e.groups;return Object(j.jsx)("div",{className:"group__list",children:t&&t.map((function(e){return Object(j.jsx)(bt,{title:e.title,images:e.images,id:e._id},e._id)}))})},Ot=function(e){e.ref;var t=e.closeAddMemberForm,n=e.selected,r=e.setSelected,a=Object(c.useState)(""),o=Object(s.a)(a,2),i=o[0],l=o[1],u=Object(c.useRef)();return Object(c.useEffect)((function(){u.current.focus()}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"modal-form",children:[Object(j.jsx)(oe.Close,{className:"modal-form__close",onClick:t}),Object(j.jsx)(Ge,{selected:n,setSelected:r,dropdown:i,className:"modal-form__input",ref:u,value:i,setValue:l})]})})},mt=function(e){var t=e.selected,n=e.setSelected;return Object(j.jsx)("div",{className:"group__create-members",children:Object(j.jsx)("ul",{children:t.map((function(e){return Object(j.jsxs)("li",{onClick:function(){return function(e){n(t.filter((function(t){return t!==e})))}(e)},children:[e.name," ",Object(j.jsx)(oe.Close,{color:"grey"})]},e)}))})})},ht=function(e){var t=e.addMemberInput,n=e.setAddMemberInput,r=e.createGroup,a=e.getAllUsers,o=e.allUsers,i=e.saveGroup,l=e.closeModal,u=Object(c.useState)(""),d=Object(s.a)(u,2),b=d[0],p=d[1],O=Object(c.useState)([]),m=Object(s.a)(O,2),h=m[0],f=m[1];Object(c.useEffect)((function(){r&&(p(""),f([]),n(!1)),a()}),[r]);return Object(j.jsxs)("div",{className:"group__create",children:[Object(j.jsx)("div",{className:"group__create-image",children:"Add cover photo"}),Object(j.jsx)(Ge,{data:o,onClick:function(){return n(!1)},value:b,setValue:p,placeholder:"Group name"}),t?Object(j.jsx)(Ot,{selected:h,setSelected:f,closeAddMemberForm:function(){return n(!1)}}):Object(j.jsx)(Ne,{title:"Add members",onClick:function(){return n(!0)}}),Object(j.jsx)(mt,{selected:h,setSelected:f}),Object(j.jsx)("div",{className:"group__create-submit regular-btn",onClick:function(){var e=h.map((function(e){return e._id}));i(b,e),p(""),f([]),l()},children:Object(j.jsx)("p",{children:"Save Group"})})]})},ft=n(52),gt=Object(ft.a)((function(e){return e.groups.groups}),(function(e){return e.groups.showAllGroups}),(function(e){return e.auth.user._id}),(function(e,t,n){return t?e:e.filter((function(e){return!0===e.private}))})),xt=Object(u.b)((function(e){return{groups:gt(e),showAllGroups:e.groups.showAllGroups,allUsers:e.auth.allUsers}}),{getGroups:ne,getAllUsers:function(){return function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){var n;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.get("/api/user/all");case 3:n=e.sent,t({type:E,payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},saveGroup:function(e,t){return function(){var n=Object(g.a)(Object(f.a)().mark((function n(c,r){var a,o;return Object(f.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,te.post("api/group",{title:e});case 3:return a=n.sent,t.length>0&&t.push(r().auth.user._id),n.next=7,te.put("api/group/add/members/".concat(a.data._id),{members:t});case 7:o=n.sent,c({type:z,payload:o.data}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}})((function(e){e.closeCreateForm,e.openCreateForm;var t=e.getGroups,n=e.groups,r=e.showAllGroups,a=e.getAllUsers,o=e.allUsers,i=e.saveGroup,l=Object(c.useState)(!1),u=Object(s.a)(l,2),d=u[0],b=u[1],p=Object(c.useState)(!1),O=Object(s.a)(p,2),m=O[0],h=O[1];return Object(c.useEffect)((function(){t()}),[]),Object(j.jsxs)(le,{children:[Object(j.jsxs)("div",{className:"group",children:[Object(j.jsx)(dt,{openCreateGroup:function(){return b(!0)},showAllGroups:r}),Object(j.jsx)(pt,{groups:n})]}),Object(j.jsx)(ae,{modal:d,setModal:b,title:"Create Group",width:"30%",children:Object(j.jsx)(ht,{closeModal:function(){return b(!1)},saveGroup:i,getAllUsers:a,allUsers:o,createGroup:d,addMemberInput:m,setAddMemberInput:h})})]})})),vt=function(e){var t=e.message,n=e.buttonLightTitle,c=(e.buttonLightOnClick,e.buttonDangerTitle),r=(e.buttonDangerOnClick,e.deleteGroup);return Object(j.jsxs)("div",{className:"leave-group",children:[Object(j.jsxs)("p",{className:"leave-group__message",children:[" ",t," "]}),Object(j.jsxs)("div",{className:"leave-group__buttons",children:[Object(j.jsxs)("button",{onClick:r,className:"outline-btn leave-group__buttons--light",children:[" ",n," "]}),Object(j.jsxs)("button",{className:"outline-btn leave-group__buttons--danger",children:[" ",c," "]})]})]})},kt=function(e){var t=e.showAllImages,n=e.isPrivate,r=e.title,a=e.deleteGroup,o=e.members,i=Object(c.useState)(!1),l=Object(s.a)(i,2),u=l[0],d=l[1],b=Object(c.useState)(""),h=Object(s.a)(b,2),f=h[0],g=h[1],x=function(){g(n?"Delete Group":"Leave Group")};Object(c.useEffect)((function(){return document.addEventListener("click",(function(e){"svg"!==e.target.tagName&&d(!1)}))}),[]);var v=function(e){d(!u)},k=function(){a(),g(!1),window.location.href=window.location.origin+"/groups"},w=function(e){var t=e.mobile,n=e.isPrivate,c=["grid__header-dots"];!n&&c.push("ml-6"),!t&&c.push("top-10");var r=c.join(" ").trim();return Object(j.jsxs)(p,{distance:"50%",className:r,dropdown:u,children:[Object(j.jsx)(O,{children:Object(j.jsx)("button",{onClick:v,children:Object(j.jsx)(oe.EllipsisHorizontal,{color:"#dbdbdb"})})}),Object(j.jsx)(m,{children:"Add Photos"}),Object(j.jsx)(m,{children:"Add Members"}),Object(j.jsx)(m,{onClick:x,children:n?"Delete":"Leave"})]})};return Object(j.jsxs)("div",{className:"grid__header",children:[Object(j.jsxs)("div",{className:"grid__header-info--mobile",children:[Object(j.jsx)("h1",{className:"grid__header-title",children:r}),Object(j.jsx)(w,{mobile:!0,isPrivate:n})]}),Object(j.jsxs)("div",{className:"grid__header-info",children:[Object(j.jsx)("h1",{className:"hide-mobile",children:r}),!n&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{children:[o.length," Members"]}),Object(j.jsx)(jt,{showAll:t,resource:"photo",className:"".concat(n?"":"ml-auto")})]}),window.innerWidth>480&&Object(j.jsx)(w,{mobile:!1,isPrivate:n})]}),Object(j.jsx)(ae,{modal:f,setModal:g,title:f,width:"30%",children:n?Object(j.jsx)(vt,{message:"Do you want to delete the group only, or delete the group and all photos in it?",buttonLightTitle:"Delete group only",buttonDangerTitle:"Delete group and all images",deleteGroup:k}):Object(j.jsx)(vt,{message:"Do you want to leave and delete the group, or keep it with your images only?",buttonLightTitle:"Keep group",buttonDangerTitle:"Delete group",deleteGroup:k})})]})},wt=Object(u.b)((function(e){var t;return{showAllImages:e.groups.showAllImages,group:e.groups.active,user:e.auth.user._id,members:null===(t=e.groups.active)||void 0===t?void 0:t.members}}),{getOneGroup:function(e){return function(){var t=Object(g.a)(Object(f.a)().mark((function t(n){var c;return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te.get("api/group/".concat(e));case 3:c=t.sent,n({type:X,payload:c.data}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},clearGroup:function(){return function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:q})}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deleteGroup:function(e){return function(){var t=Object(g.a)(Object(f.a)().mark((function t(n){var c;return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te.delete("api/group/".concat(e));case 3:c=t.sent,n({type:Q,payload:c.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.match,n=e.showAllImages,r=e.getOneGroup,a=e.group,o=e.clearGroup,s=e.deleteGroup,i=(e.images,e.user),l=e.members;return Object(c.useEffect)((function(){o(),r(t.params.id)}),[]),Object(j.jsx)(le,{children:a&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(kt,{isPrivate:a.private,showAllImages:n,title:a.title,deleteGroup:function(){return s(a._id)},members:l}),Object(j.jsx)(Ae,{images:n?a.images:a.images.filter((function(e){return e.user===i}))})]})})})),yt=Object(u.b)((function(e){return{}}),{uploadImages:re})((function(e){var t=e.uploadImages;return Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"file",multiple:!0,onChange:function(e){t(e.target.files[0])}}),Object(j.jsx)("button",{children:"Upload!"})]})}));var At=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,token:e.auth.token,progress:e.images.progress}}),{})((function(e){var t=e.isAuthenticated,n=e.token,r=e.progress,a=Object(c.useState)(!1),o=Object(s.a)(a,2),u=o[0],d=o[1];return Object(c.useEffect)((function(){ut.dispatch(ze()),ut.dispatch(function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){t({type:y})}),1e3);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[n]),Object(c.useEffect)((function(){r.number?d(!0):d(!1)}),[r]),Object(j.jsxs)(i.a,{children:[Object(j.jsx)(h,{authenticated:t,username:"username",logout:function(){return ut.dispatch(function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:A});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}),Object(j.jsxs)(l.d,{children:[Object(j.jsx)(Ze,{exact:!0,path:"/",component:De}),Object(j.jsx)(Ze,{exact:!0,path:"/groups",component:xt}),Object(j.jsx)(Ze,{exact:!0,path:"/groups/:id",component:wt}),Object(j.jsx)(l.b,{exact:!0,path:"/upload",component:yt}),Object(j.jsx)(l.b,{exact:!0,path:"/login",component:Ve}),Object(j.jsx)(l.b,{exact:!0,path:"/register",component:Xe})]}),Object(j.jsxs)(ae,{modal:u,setModal:d,title:"Uploading images...",width:"30%",children:["uploading ",r.number," of ",r.total]})]})})),_t=function(e){var t=e.children;return Object(j.jsx)(u.a,{store:ut,children:t})};o.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(_t,{children:Object(j.jsx)(At,{})})}),document.getElementById("root"))},60:function(e,t,n){}},[[1396,1,2]]]);
//# sourceMappingURL=main.5e7f024d.chunk.js.map